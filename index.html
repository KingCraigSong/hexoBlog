<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>小莫札记</title><meta name="author" content="Xiaomo"><meta name="copyright" content="Xiaomo"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta property="og:type" content="website">
<meta property="og:title" content="小莫札记">
<meta property="og:url" content="http://blog.xmsong.cn/">
<meta property="og:site_name" content="小莫札记">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://blog.xmsong.cn/img/avatar.jpeg">
<meta property="article:author" content="Xiaomo">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://blog.xmsong.cn/img/avatar.jpeg"><link rel="shortcut icon" href="/favicon.ico"><link rel="canonical" href="http://blog.xmsong.cn/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin=""/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web" media="print" onload="this.media='all'"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
};

var saveToLocal = {
  set: function setWithExpiry(key, value, ttl) {
    const now = new Date()
    const expiryDay = ttl * 86400000
    const item = {
      value: value,
      expiry: now.getTime() + expiryDay,
    }
    localStorage.setItem(key, JSON.stringify(item))
  },

  get: function getWithExpiry(key) {
    const itemStr = localStorage.getItem(key)

    if (!itemStr) {
      return undefined
    }
    const item = JSON.parse(itemStr)
    const now = new Date()

    if (now.getTime() > item.expiry) {
      localStorage.removeItem(key)
      return undefined
    }
    return item.value
  }
}

// https://stackoverflow.com/questions/16839698/jquery-getscript-alternative-in-native-javascript
const getScript = url => new Promise((resolve, reject) => {
  const script = document.createElement('script')
  script.src = url
  script.async = true
  script.onerror = reject
  script.onload = script.onreadystatechange = function() {
    const loadState = this.readyState
    if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
    script.onload = script.onreadystatechange = null
    resolve()
  }
  document.head.appendChild(script)
})</script><script id="config_change">var GLOBAL_CONFIG_SITE = { 
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2021-04-25 23:55:05'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(function () {  window.activateDarkMode = function () {
    document.documentElement.setAttribute('data-theme', 'dark')
    if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
    }
  }
  window.activateLightMode = function () {
    document.documentElement.setAttribute('data-theme', 'light')
   if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
    }
  }
  const autoChangeMode = 'false'
  const t = saveToLocal.get('theme')
  if (autoChangeMode === '1') {
    const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
    const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
    const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
    const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified
    if (t === undefined) {
      if (isLightMode) activateLightMode()
      else if (isDarkMode) activateDarkMode()
      else if (isNotSpecified || hasNoSupport) {
        const now = new Date()
        const hour = now.getHours()
        const isNight = hour <= 6 || hour >= 18
        isNight ? activateDarkMode() : activateLightMode()
      }
      window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
        if (saveToLocal.get('theme') === undefined) {
          e.matches ? activateDarkMode() : activateLightMode()
        }
      })
    } else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else if (autoChangeMode === '2') {
    const now = new Date()
    const hour = now.getHours()
    const isNight = hour <= 6 || hour >= 18
    if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
    else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else {
    if (t === 'dark') activateDarkMode()
    else if (t === 'light') activateLightMode()
  }const asideStatus = saveToLocal.get('aside-status')
if (asideStatus !== undefined) {
   if (asideStatus === 'hide') {
     document.documentElement.classList.add('hide-aside')
   } else {
     document.documentElement.classList.remove('hide-aside')
   }
}})()</script><meta name="generator" content="Hexo 5.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="/img/avatar.jpeg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">12</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">15</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">9</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background: linear-gradient(20deg, #0062be, #925696, #cc426e, #fb0347)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">小莫札记</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">小莫札记</h1><div id="site-subtitle"><span id="subtitle"></span></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2021/04/25/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86/" title="数据库版本管理">数据库版本管理</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-04-25T21:37:51.000Z" title="发表于 2021-04-25 21:37:51">2021-04-25</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86/">项目管理</a></span></div><div class="content">关于数据库版本三个主要概念

配置项数据库相关的配置项包括所有的数据库元素，如 Model、DDL、DML 及各种配置文件。

变更集变更集就是数据库变更的最小单元，一个 Change Set 在物理表现上就是一个脚本文件。初始化后的数据库通过变更集进行统一的更新，每个变更集都应有对应的回滚脚本，吐过更新失败则使用该回滚脚本进行回滚。

基线基线就是数据库在特定时期的一个“快照”，为随后的工作提供一个标准和起点，通常根据功能发布范围建立数据库基线。


思路与目标
开发部署分离开发环境、测试环境、生产环境严格分离是进行数据库版本控制的第一步，通常生产环境和其他环境的分离没有问题，但也要确保开发环境和测试环境的分离。开发环境和测试环境分离是确保开发过程中的数据库版本控制能够在测试环境得到第一轮的检验，避免生产环境中出现问题。

版本可见版本号在开发、测试和实施等步骤中确保所有人都能可见是执行数据库版本的基础。

版本一致版本一致指要满足系统版本等式，即正确的服务器+正确的客户端+正确的数据库=正确的服务

版本可回滚当更新之后的最新版本有问题时，需要支持回滚到稳定版本。

版本可兼容一个 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2021/04/21/%E5%B8%B8%E8%A7%81%E7%9A%84%E5%AE%89%E5%85%A8%E7%9B%B8%E5%85%B3HTTP%E5%93%8D%E5%BA%94%E5%A4%B4%E4%BB%8B%E7%BB%8D/" title="常见的安全相关HTTP响应头介绍">常见的安全相关HTTP响应头介绍</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-04-21T08:57:23.000Z" title="发表于 2021-04-21 08:57:23">2021-04-21</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a></span></div><div class="content">以下这些，可以通过设置Nginx返回头部信息，或者在代码里添加filter，统一添加返回头信息。
X-Frame-Options
介绍X-Frame-Options 是为了减少点击劫持（Clickjacking）而引入的一个响应头。Chrome4+、Firefox3.6.9+、IE8+均支持，详细的浏览器支持情况看这里。如果某页面被不被允许的页面以&lt;iframe&gt;或&lt;frame&gt;的形式嵌入，IE会显示类似于“此内容无法在框架中显示”的提示信息，Chrome和Firefox都会在控制台打印信息。由于嵌入的页面不会加载，这就减少了点击劫持的发生。

用例
x-frame-options: SAMEORIGIN
取值：



DENY：不允许被任何页面嵌入；
SAMEORIGIN：不允许被本域以外的页面嵌入；
ALLOW-FROM uri：不允许被指定的域名以外的页面嵌入（Chrome现阶段不支持）；

X-XSS-Protection
介绍顾名思义，这个响应头是用来防范XSS的。浏览器提供的XSS保护机制并不完美，但是开启后仍然可以提升攻击难度，如果没有特殊需要，建 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2021/02/03/%E8%AE%A1%E7%AE%97%E6%9C%BA/Java%E5%AF%BC%E5%85%A5Excel%E7%89%B9%E6%AE%8A%E5%AD%97%E7%AC%A6%E5%A4%84%E7%90%86/" title="Java导入Excel特殊字符处理">Java导入Excel特殊字符处理</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-02-03T11:25:18.000Z" title="发表于 2021-02-03 11:25:18">2021-02-03</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E8%AE%A1%E7%AE%97%E6%9C%BA/">计算机</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E7%BC%96%E7%A8%8B%E9%9A%8F%E7%AC%94/">编程随笔</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/">代码片段</a></span></div><div class="content">导入Excel数据时，经常出现单元格里有空格、制表符、不显示的特殊字符；下面进行处理
/** * 去除字符串中的空格、制表符、特殊字符: * * \t \r \n * `&quot;\u202C&quot;` `&quot;\u202D&quot;` `&quot;\u202E&quot;` * @param str * @return */ public static String replaceBlank(String str) &#123;     if (str == null) &#123;         return null;     &#125;     Pattern p = Pattern.compile(&quot;[\u202C\u202D\u202E\\s(\\t\\n)\\n]&quot;);     Matcher m = p.matcher(str);     return m.replaceAll(&quot;&quot;); &#125;</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2020/01/29/000_%E4%B9%A6%E7%AD%BE%E6%95%B4%E7%90%86/" title="书签整理">书签整理</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-01-29T17:53:46.000Z" title="发表于 2020-01-29 17:53:46">2020-01-29</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E6%96%87%E6%A1%A3%E8%AE%B0%E5%BD%95/">文档记录</a></span></div><div class="content">工具集对照表
HTTP Content-type
HTTP状态码详解
ASCII码
RGB颜色
HTML转义字符
TCP/UDP常见端口
网页常用字体参考

CDN
Staticfile CDN
Bootstrap中文网开源项目
The best FOSS CDN

数据分析平台
百度统计
诸葛iO
友盟
TalkingData
腾讯移动分析

文字识别
腾讯
百度

其他
文字转ASCII
百度前端助手
代码图片值作Carbon
单精度浮点数转换 IEEE 754
站长工具-编码解码
注册过的网站 REG007
TeamViewer Management Console
ProcessOn
ProtonMail
DiffMerge
Lodop
国家统计局&gt;&gt;统计用产品分类目录

教程集ccss/less/scssDocker
官网
Docker 从入门到实践

java基础kubernetes/k8s
官网
中文社区

linux
Linux 命令搜索引擎

markdown
mermaid

Hexo 的 markdown-it 渲染引擎和其相关插件
maven
mav ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2020/01/29/000_%E4%B9%A6%E5%8D%95/" title="书单">书单</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-01-29T17:44:10.000Z" title="发表于 2020-01-29 17:44:10">2020-01-29</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E6%96%87%E6%A1%A3%E8%AE%B0%E5%BD%95/">文档记录</a></span></div><div class="content">计算机


科目
最佳书籍
最佳视频



分布式系统
《分布式系统原理与范型》（中文第二版，英文第三版）



操作系统
《操作系统导论》
Berkeley CS 162


数学知识
《计算机科学中的数学》
Tom Leighton’s MIT 6.042J


数据库
《Readings in Database Systems》 （暂无中译本）
Joe Hellerstein’s Berkeley CS 186


算法与数据结构
《算法设计手册》
Steven Skiena’s lectures


编程
《计算机程序的构造和解释》
Brian Harvey’s Berkeley CS 61A


编程语言与编译器
《编译原理》
Alex Aiken’s course on Lagunita


计算机架构
《计算机组成与设计》
Berkeley CS 61C


计算机网络
《计算机网络：自顶向下方法》
Stanford CS 144


</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2020/01/29/%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6%E5%88%86%E5%89%B2%E5%AE%9A%E6%9C%9F%E5%88%A0%E9%99%A4%E5%A4%84%E7%90%86/" title="日志文件分割定期删除处理">日志文件分割定期删除处理</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-01-29T17:44:10.000Z" title="发表于 2020-01-29 17:44:10">2020-01-29</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E6%96%87%E6%A1%A3%E8%AE%B0%E5%BD%95/">文档记录</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/%E6%96%87%E6%A1%A3%E8%AE%B0%E5%BD%95/%E8%BF%90%E7%BB%B4%E8%84%9A%E6%9C%AC/">运维脚本</a></span></div><div class="content">分割、删除 N 天前日志#!/bin/bashDIR=日志地址d=`date +%Y%m%d`cd $DIRcp catalina.out catalina.out.bak$&#123;d&#125;echo &quot;&quot; &gt; catalina.outfind ./ -mtime +7 -name &quot;catalina.out.bak*&quot; -exec rm -rf &#123;&#125; \;
添加定时任务将auto_clean.sh执行脚本加入到系统计划任务，到点自动执行
crontab -e
输入：
59 23 * * * /opt/soft/log/auto_clean.sh &gt;/dev/null 2&gt;&amp;1
这里的设置是每天23点59分执行auto_clean.sh文件进行数据清理任务了。
</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2020/01/29/%E5%A2%9E%E5%B9%BF%E8%B4%A4%E6%96%87/" title="增广贤文">增广贤文</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-01-29T17:16:56.000Z" title="发表于 2020-01-29 17:16:56">2020-01-29</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E6%96%87%E5%AD%A6%E6%91%98%E5%BD%95/">文学摘录</a></span></div><div class="content">昔时贤文，诲汝谆谆，集韵增文，多见多闻。观今宜鉴古，无古不成今。知己知彼，将心比心。酒逢知己饮，诗向会人吟。相识满天下，知心能几人。相逢好似初相识，到老终无怨恨心。近水知鱼性，近山识鸟音。易涨易退山溪水，易反易覆小人心。运去金成铁，时来铁似金，读书须用意，一字值千金。逢人且说三分话，未可全抛一片心。有意栽花花不发，无心插柳柳成阴。画虎画皮难画骨，知人知面不知心。钱财如粪土，仁义值千金。流水下滩非有意，白云出岫本无心。当时若不登高望，谁信东流海洋深。路遥知马力，事久见人心。两人一般心，无钱堪买金，一人一般心，有钱难买针。相见易得好，久住难为人。马行无力皆因瘦，人不风流只为贫。饶人不是痴汉，痴汉不会饶人。是亲不是亲，非亲却是亲。美不美，乡中水，亲不亲，故乡人。莺花犹怕春光老，岂可教人枉度春。相逢不饮空归去，洞口桃花也笑人。红粉佳人休使老，风流浪子莫教贫。在家不会迎宾客，出外方知少主人。黄金无假，阿魏无真。客来主不顾，应恐是痴人。贫居闹市无人问，富在深山有远亲。谁人背后无人说，哪个人前不说人。有钱道真语，无钱语不真。不信但看筵中酒，杯杯先劝有钱人。闹里有钱，静处安身。来如风雨，去似微尘。长江 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2020/01/29/%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%ADIP%E5%9C%B0%E5%9D%80%E7%9A%84%E5%AD%98%E5%82%A8/" title="数据库中IP地址的存储">数据库中IP地址的存储</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-01-29T10:52:36.000Z" title="发表于 2020-01-29 10:52:36">2020-01-29</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E8%AE%A1%E7%AE%97%E6%9C%BA/">计算机</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E7%BC%96%E7%A8%8B%E9%9A%8F%E7%AC%94/">编程随笔</a></span></div><div class="content">大多数公司的表结构都需要经过DBA进行审核，有时候你会看到存储IP地址采用varchar(15)，这种方式都是传统的做法，这种方法需要占用15个字节，那么有更省空间的做法么？肯定是有的，那就是用int存储。如果采用int存储这里又有2种处理方式。

利用MySQL函数进行处理。可以采用INET_ATON，INET_NTOA函数进行转换。
利用开发语言的函数进行处理，以php进行举例。可以采用ip2long，long2ip函数进行转换；java语言处理工具类如下：

/** * Created with IntelliJ IDEA. * Desc:  IP地址使用无符号整型存储 * User:  Xiaomo Song * Date: 2018-11-26 * Time: 17:12 */public class IPConvetor &#123;    /**     * ip地址转成long型数字     * 将IP地址转化成整数的方法如下：     * 1、通过String的split方法按.分隔得到4个长度的数组     * 2、通过左移位操作（&lt;&lt;）给每一段的数字加 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2020/01/29/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E5%9C%B0%E5%9B%BE%E5%9D%90%E6%A0%87%E7%B3%BB%E8%BD%AC%E6%8D%A2%E7%AE%97%E6%B3%95/" title="地图坐标系转换算法">地图坐标系转换算法</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-01-29T10:51:18.000Z" title="发表于 2020-01-29 10:51:18">2020-01-29</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E8%AE%A1%E7%AE%97%E6%9C%BA/">计算机</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E7%BC%96%E7%A8%8B%E9%9A%8F%E7%AC%94/">编程随笔</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/">代码片段</a></span></div><div class="content">当前互联网地图的坐标系现状
地球坐标 (WGS84)
国际标准，从专业 GPS 设备中取出的数据的坐标系。国际地图提供商使用的坐标系。


火星坐标 (GCJ-02)也叫国测局坐标系
中国标准，从国行移动设备中定位获取的坐标数据使用这个坐标系。
国家规定： 国内出版的各种地图系统（包括电子形式），必须至少采用GCJ-02对地理位置进行首次加密。


百度坐标 (BD-09)
百度标准，百度 SDK，百度地图，Geocoding 使用(百度在火星坐标上的二次加密)。



互联网在线地图使用的坐标系
火星坐标系：
iOS 地图（其实是高德）、Gogole地图、搜搜、阿里云、高德地图


百度坐标系：
当然只有百度地图


WGS84坐标系：
国际标准，谷歌国外地图、osm地图等国外的地图一般都是这个。



从设备获取经纬度（GPS）坐标
如果使用的是百度sdk那么可以获得百度坐标（bd09）或者火星坐标（GCJ02),默认是bd09。
如果使用的是ios的原生定位库，那么获得的坐标是WGS84。
如果使用的是高德sdk,那么获取的坐标是GCJ02。

详细代码define(functi ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2020/01/29/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E5%9B%9B%E4%BD%8D%E5%85%B1%E9%98%B3%E6%95%B0%E7%A0%81%E7%AE%A1%E6%98%BE%E7%A4%BA%E9%A9%B1%E5%8A%A8/" title="四位共阳数码管显示驱动">四位共阳数码管显示驱动</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-01-29T10:50:06.000Z" title="发表于 2020-01-29 10:50:06">2020-01-29</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E8%AE%A1%E7%AE%97%E6%9C%BA/">计算机</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E7%BC%96%E7%A8%8B%E9%9A%8F%E7%AC%94/">编程随笔</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/">代码片段</a></span></div><div class="content">四位共阳数码管显示驱动，使用 python3 编写。
# tm1637 classimport timeimport RPi.GPIO as GPIO# 0, 1, 2, 3, 4, 5, 6, 7, 8 ,9#HexDigits = [0x3f,0x06,0x5b,0x4f,0x66,0x6d,0x7d,0x07,0x7f,0x6f,0x77,0x7c,0x39,0x5e,0x79,0x71];HexDigits = [0x3f,0x06,0x5b,0x4f,0x66,0x6d,0x7d,0x07,0x7f,0x6f];ADDR_AUTO = 0x40;ADDR_FIXED = 0x44;START_ADDR = 0xC0;BRIGHT_DARKEST = 0;BRIGHT_TYPICAL = 2;BRIGHT_HIGHEST = 7;OUTPUT = GPIO.OUT;INPUT = GPIO.IN;LOW = GPIO.LOW;HIGH = GPIO.HIGH;class TM1637:    doublePoint = False;    clkPin = 0;    data ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" src="/img/avatar.jpeg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">Xiaomo</div><div class="author-info__description"></div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">12</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">15</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">9</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/KingCraigSong"><i class="fab fa-github"></i><span>Github</span></a></div><div class="sticky_layout"><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/java/" style="font-size: 1.5em; color: rgb(45, 88, 131)">java</a><a href="/tags/%E6%A0%87%E5%87%86/" style="font-size: 1.1em; color: rgb(193, 21, 26)">标准</a><a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 1.1em; color: rgb(116, 166, 169)">算法</a><a href="/tags/%E4%B9%A6%E5%8D%95/" style="font-size: 1.1em; color: rgb(3, 83, 131)">书单</a><a href="/tags/%E4%B9%A6%E7%AD%BE/" style="font-size: 1.1em; color: rgb(45, 115, 39)">书签</a><a href="/tags/HTTP/" style="font-size: 1.1em; color: rgb(111, 137, 168)">HTTP</a><a href="/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/" style="font-size: 1.1em; color: rgb(13, 174, 20)">网络安全</a><a href="/tags/markdown/" style="font-size: 1.1em; color: rgb(12, 67, 198)">markdown</a><a href="/tags/%E5%B7%A5%E5%85%B7%E7%B1%BB/" style="font-size: 1.3em; color: rgb(124, 60, 198)">工具类</a><a href="/tags/%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86/" style="font-size: 1.1em; color: rgb(81, 131, 0)">项目管理</a><a href="/tags/bash/" style="font-size: 1.1em; color: rgb(48, 148, 86)">bash</a><a href="/tags/%E8%BF%90%E7%BB%B4/" style="font-size: 1.1em; color: rgb(67, 7, 162)">运维</a><a href="/tags/%E5%B7%A5%E5%85%B7%E9%9B%86/" style="font-size: 1.1em; color: rgb(69, 27, 185)">工具集</a><a href="/tags/%E6%A0%91%E8%8E%93%E6%B4%BE/" style="font-size: 1.1em; color: rgb(182, 179, 90)">树莓派</a><a href="/tags/javascript/" style="font-size: 1.1em; color: rgb(178, 78, 138)">javascript</a></div></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">12</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2021-04-25T23:55:05.143Z"></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021 By Xiaomo</div><div class="footer_custom_text"><a target="_blank" rel="noopener" href="https://beian.miit.gov.cn/#/Integrated/index"><span>京ICP备2021004430号-1</span></a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>function subtitleType () {
  if (true) { 
    var typed = new Typed("#subtitle", {
      strings: "唯有尽力自持，方不致癫狂,总之岁月漫长，然而值得等待,我来，我见，我征服,生活的最佳状态是冷冷清清的风风火火,我要努力，至少不给未来得自己回忆时，留下任何遗憾,过去的就把它忘了重新开始,时间会给你想要的一切,我想活的明媚如阳光，照射给每一个人,低头哭过别忘了抬头继续走,所有的不快乐都是因为想太多,梦里能到达的地方，脚步也能到达,一个人真正的强大，是能坦然理解所有生命里的世事无常,我相信，路总会有平坦的一面,人生不就是，先进攻再撤退,这一秒不放弃，下一秒就会有希望,男人再苦也不怕心中有梦闯天下,立志在坚不在锐，成功在久不在速,任何不快乐的时光都是浪费,有些事不要逞强，有些人不必勉强,不要让未来的你瞧不起此刻的你,人就活一次，酸甜苦辣咱得笑着,有时间去嫉妒为什么不去奋斗,多么美妙的生活，值得我们好好珍惜,猛兽总是独行，牛羊才成群结队,醉卧沙场君莫笑，古来长生有几何,犹豫久了，勇气会消失".split(","),
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50
    })
  } else {
    document.getElementById("subtitle").innerHTML = '唯有尽力自持，方不致癫狂'
  }
}

if (true) {
  if (typeof Typed === 'function') {
    subtitleType()
  } else {
    getScript('https://cdn.jsdelivr.net/npm/typed.js').then(subtitleType)
  }
} else {
  subtitleType()
}</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-fluttering-ribbon.min.js"></script></div></body></html>