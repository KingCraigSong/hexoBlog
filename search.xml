<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>数据库版本管理</title>
      <link href="2021/04/25/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86/"/>
      <url>2021/04/25/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86/</url>
      
        <content type="html"><![CDATA[<h2 id="关于数据库版本"><a href="#关于数据库版本" class="headerlink" title="关于数据库版本"></a>关于数据库版本</h2><p>三个主要概念</p><ol><li><p>配置项<br>数据库相关的配置项包括所有的数据库元素，如 Model、DDL、DML 及各种配置文件。</p></li><li><p>变更集<br>变更集就是数据库变更的最小单元，一个 Change Set 在物理表现上就是一个脚本文件。初始化后的数据库通过变更集进行统一的更新，每个变更集都应有对应的回滚脚本，吐过更新失败则使用该回滚脚本进行回滚。</p></li><li><p>基线<br>基线就是数据库在特定时期的一个“快照”，为随后的工作提供一个标准和起点，通常根据功能发布范围建立数据库基线。</p></li></ol><h2 id="思路与目标"><a href="#思路与目标" class="headerlink" title="思路与目标"></a>思路与目标</h2><ol><li><p>开发部署分离<br>开发环境、测试环境、生产环境严格分离是进行数据库版本控制的第一步，通常生产环境和其他环境的分离没有问题，但也要确保开发环境和测试环境的分离。开发环境和测试环境分离是确保开发过程中的数据库版本控制能够在测试环境得到第一轮的检验，避免生产环境中出现问题。</p></li><li><p>版本可见<br>版本号在开发、测试和实施等步骤中确保所有人都能可见是执行数据库版本的基础。</p></li><li><p>版本一致<br>版本一致指要满足系统版本等式，即正确的服务器+正确的客户端+正确的数据库=正确的服务</p></li><li><p>版本可回滚<br>当更新之后的最新版本有问题时，需要支持回滚到稳定版本。</p></li><li><p>版本可兼容<br>一个数据库版本对应着一批有效服务器版本</p></li></ol><p>设计如下要素：  </p><ol><li>版本号</li><li>版本校验</li><li>版本更新</li><li>版本回滚</li><li>版本基线</li></ol><h2 id="流程与实践"><a href="#流程与实践" class="headerlink" title="流程与实践"></a>流程与实践</h2><ol><li>版本号<br>通过创建版本表来存储和管理版本号<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- create table</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `db_version`(</span><br><span class="line">    `DATABASE_VERSION` <span class="type">varchar</span>(<span class="number">30</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    `MIN_SERVER_VERSION` <span class="type">varchar</span>(<span class="number">30</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    `UPDATE_DESCRIPTION` <span class="type">varchar</span>(<span class="number">200</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    `UPDATE_TIME` <span class="type">DATE</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> </span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB <span class="keyword">DEFAULT</span> CHARST<span class="operator">=</span>utf<span class="number">-8</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- init</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `db_version` <span class="keyword">VALUES</span> (<span class="string">&#x27;MC-1.0.0-0001&#x27;</span>,<span class="string">&#x27;MC-1.0.0-0001&#x27;</span>,<span class="string">&#x27;系统初始化&#x27;</span>);</span><br></pre></td></tr></table></figure></li><li>版本校验<br>通过存储过程进行版本校验的脚本如下<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">PROCEDURE</span> db_version_check(<span class="keyword">IN</span> version <span class="type">varchar</span>(<span class="number">30</span>))</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">    <span class="keyword">SELECT</span> <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">INTO</span> <span class="variable">@result</span> <span class="keyword">FROM</span> db_version <span class="keyword">where</span> DATABASE_VERSION <span class="operator">=</span> version;</span><br><span class="line">    IF <span class="variable">@result</span> <span class="operator">=</span> <span class="number">0</span> <span class="keyword">THEN</span></span><br><span class="line">    <span class="comment">-- 抛出自定义异常</span></span><br><span class="line">    <span class="keyword">END</span> IF;</span><br><span class="line"><span class="keyword">END</span></span><br></pre></td></tr></table></figure></li><li>版本更新<br>根据比对老版本后、更新新版本号和描述，并根据需要更新服务器最小版本号，如下<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">--检查版本号</span></span><br><span class="line"><span class="keyword">CALL</span> db_version_check(<span class="string">&#x27;MC-1.0.0-002&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 更新版本号</span></span><br><span class="line"><span class="keyword">update</span> db_version <span class="keyword">set</span> DATABASE_VERSION <span class="operator">=</span> <span class="string">&#x27;MC-1.0.0-003&#x27;</span>, MIN_SERVER_VERSION <span class="operator">=</span></span><br><span class="line"> <span class="string">&#x27;MC-1.0.0-003&#x27;</span>, UPDATE_DESCRIPTION <span class="operator">=</span> <span class="string">&#x27;新增表&#x27;</span>, UPDATE_TIME <span class="operator">=</span> SYSDATE();</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 更新表结构</span></span><br></pre></td></tr></table></figure></li><li>版本回滚<br>比对版本号，回滚老版本号、更新描述并回滚更新内容<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">--检查版本号</span></span><br><span class="line"><span class="keyword">CALL</span> db_version_check(<span class="string">&#x27;MC-1.0.0-003&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 回滚版本号</span></span><br><span class="line"><span class="keyword">update</span> db_version <span class="keyword">set</span> DATABASE_VERSION <span class="operator">=</span> <span class="string">&#x27;MC-1.0.0-002&#x27;</span>, MIN_SERVER_VERSION <span class="operator">=</span> </span><br><span class="line"><span class="string">&#x27;MC-1.0.0-002&#x27;</span>, UPDATE_DESCRIPTION <span class="operator">=</span> <span class="string">&#x27;更新回滚&#x27;</span>, UPDATE_TIME <span class="operator">=</span> SYSDATE();</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 回滚表结构</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> TEMP <span class="keyword">drop</span> <span class="keyword">column</span> XXX;</span><br></pre></td></tr></table></figure></li><li>版本基线<br>完整的表DDL，及初始化的DML；即从一个可发布版本递增到另一个可发布版本。</li></ol>]]></content>
      
      
      <categories>
          
          <category> 学习笔记 </category>
          
          <category> 项目管理 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 项目管理 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>常见的安全相关HTTP响应头介绍</title>
      <link href="2021/04/21/%E5%B8%B8%E8%A7%81%E7%9A%84%E5%AE%89%E5%85%A8%E7%9B%B8%E5%85%B3HTTP%E5%93%8D%E5%BA%94%E5%A4%B4%E4%BB%8B%E7%BB%8D/"/>
      <url>2021/04/21/%E5%B8%B8%E8%A7%81%E7%9A%84%E5%AE%89%E5%85%A8%E7%9B%B8%E5%85%B3HTTP%E5%93%8D%E5%BA%94%E5%A4%B4%E4%BB%8B%E7%BB%8D/</url>
      
        <content type="html"><![CDATA[<p>以下这些，可以通过设置Nginx返回头部信息，或者在代码里添加filter，统一添加返回头信息。</p><h2 id="X-Frame-Options"><a href="#X-Frame-Options" class="headerlink" title="X-Frame-Options"></a>X-Frame-Options</h2><ol><li><p>介绍<br><code>X-Frame-Options</code> 是为了减少点击劫持（Clickjacking）而引入的一个响应头。Chrome4+、Firefox3.6.9+、IE8+均支持，详细的浏览器支持情况<a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Frame-Options?redirectlocale=en-US&redirectslug=The_X-FRAME-OPTIONS_response_header#browser_compatibility">看这里</a>。<br>如果某页面被不被允许的页面以<code>&lt;iframe&gt;</code>或<code>&lt;frame&gt;</code>的形式嵌入，IE会显示类似于“此内容无法在框架中显示”的提示信息，Chrome和Firefox都会在控制台打印信息。由于嵌入的页面不会加载，这就减少了点击劫持的发生。</p></li><li><p>用例</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">x-frame-options: SAMEORIGIN</span><br></pre></td></tr></table></figure></li><li><p>取值：</p></li></ol><ul><li>DENY：不允许被任何页面嵌入；</li><li>SAMEORIGIN：不允许被本域以外的页面嵌入；</li><li>ALLOW-FROM uri：不允许被指定的域名以外的页面嵌入（Chrome现阶段不支持）；</li></ul><h2 id="X-XSS-Protection"><a href="#X-XSS-Protection" class="headerlink" title="X-XSS-Protection"></a>X-XSS-Protection</h2><ol><li><p>介绍<br>顾名思义，这个响应头是用来防范XSS的。浏览器提供的XSS保护机制并不完美，但是开启后仍然可以提升攻击难度，如果没有特殊需要，建议开启它。</p></li><li><p>用例</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">X-XSS-Protection: 1; mode&#x3D;block</span><br></pre></td></tr></table></figure></li><li><p>取值：</p></li></ol><ul><li>0：禁用XSS保护；</li><li>1：启用XSS保护；</li><li>1; mode=block：启用XSS保护，并在检查到XSS攻击时，停止渲染页面（例如IE8中，检查到攻击时，整个页面会被一个#替换）；</li></ul><h2 id="X-Content-Type-Options"><a href="#X-Content-Type-Options" class="headerlink" title="X-Content-Type-Options"></a>X-Content-Type-Options</h2><ol><li>介绍<br>互联网上的资源有各种类型，通常浏览器会根据响应头的 <code>Content-Type</code> 字段来分辨它们的类型。<br>例如：<code>text/html</code> 代表html文档，<code>image/png</code>是PNG图片，<code>text/css</code>是CSS样式文档。</li></ol><p>然而，有些资源的 <code>Content-Type</code> 是错的或者未定义。这时，某些浏览器会启用 <code>MIME-sniffing</code> 来猜测该资源的类型，解析内容并执行。<br>例如，我们即使给一个html文档指定<code>Content-Type为text/plain</code>，在IE8-中这个文档依然会被当做html来解析。利用浏览器的这个特性，攻击者甚至可以让原本应该解析为图片的请求被解析为JavaScript。</p><ol start="2"><li>用例<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">X-Content-Type-Options: nosniff</span><br></pre></td></tr></table></figure></li><li>取值：<br>这个响应头的值只能是 nosniff，可用于IE8+和Chrome。另外，它还被Chrome用于扩展下载，<a href="https://developer.chrome.com/extensions/hosting">见这里</a>。</li></ol><h2 id="Strict-Transport-Security"><a href="#Strict-Transport-Security" class="headerlink" title="Strict-Transport-Security"></a>Strict-Transport-Security</h2><ol><li>介绍<br>HTTP Strict Transport Security，简称为 HSTS 。它允许一个HTTPS网站，要求浏览器总是通过HTTPS来访问它。<br>现阶段，除了Chrome浏览器，Firefox4+，以及Firefox的NoScript扩展都支持这个响应头。</li></ol><p>我们知道HTTPS相对于HTTP有更好的安全性，而很多HTTPS网站，也可以通过HTTP来访问。开发人员的失误或者用户主动输入地址，都有可能导致用户以HTTP访问网站，降低了安全性。一般，我们会通过Web Server发送301/302重定向来解决这个问题。<br>现在有了HSTS，可以让浏览器帮你做这个跳转，省一次HTTP请求。另外，浏览器本地替换可以保证只会发送HTTPS请求，避免被劫持。</p><ol start="2"><li>用例<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">strict-transport-security: max-age&#x3D;16070400; includeSubDomains</span><br></pre></td></tr></table></figure></li><li>取值：<br><code>includeSubDomains</code> 是可选的，用来指定是否作用于子域名。支持HSTS的浏览器遇到这个响应头，会把当前网站加入<code>HSTS</code>列表，然后在max-age指定的秒数内，当前网站所有请求都会被重定向为https。即使用户主动输入 <code>http://</code> 或者不输入协议部分，都将重定向到 <code>https://</code> 地址。</li></ol><p>Chrome内置了一个HSTS列表，默认包含Google、Paypal、Twitter、Linode等等服务。我们也可以在Chrome输入<code>chrome://net-internals/#hsts</code>，进入HSTS管理界面。在这个页面，你可以增加/删除/查询<code>HSTS</code>记录。例如，你想一直以<code>https</code>访问某网址，通过<code>“add Domain”</code>加上去就好了。<br>查看Chrome内置的全部HSTS列表，或者想把自己的网站加入这个列表，<a href="https://www.chromium.org/hsts">请点这里</a>。</p><h2 id="X-Content-Security-Policy"><a href="#X-Content-Security-Policy" class="headerlink" title="X-Content-Security-Policy"></a>X-Content-Security-Policy</h2><ol><li>介绍<br>Content Security Policy，简称 CSP。顾名思义，这个规范与内容安全有关，主要是用来定义页面可以加载哪些资源，减少 XSS 的发生。<br>CSP 协议可以控制的内容非常多。而且如果不特别指定 unsafe-inline 时，页面上所有 inline 样式和脚本都不会执行；不特别指定 unsafe-eval，页面上不允许使用 new Function，setTimeout，eval 等方式执行动态代码。在限制了页面资源来源之后，被 XSS 的风险确实小不少。</li></ol><p>当然，仅仅依靠 CSP 来防范 XSS 是远远不够的，不支持全部浏览器是它的硬伤。不过，鉴于低廉的开发成本，加上也没什么坏处</p><ol start="2"><li><p>用例</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Content-Security-Policy: default-src &#39;self&#39;</span><br></pre></td></tr></table></figure><p>注：default-src 是 CSP 指令，多个指令之间用英文分号分割；‘self’ 是指令值，多个指令值用英文空格分割</p></li><li><p>取值：</p></li></ol><table><thead><tr><th>指令</th><th>指令值示例</th><th>说明</th></tr></thead><tbody><tr><td>default-src</td><td>‘self’ cnd.a.com</td><td>定义针对所有类型（js、image、css、web font，ajax 请求，iframe，多媒体等）资源的默认加载策略，某类型资源如果没有单独定义策略，就使用默认的。</td></tr><tr><td>script-src</td><td>‘self’ js.a.com</td><td>定义针对 JavaScript 的加载策略。</td></tr><tr><td>style-src</td><td>‘self’ css.a.com</td><td>定义针对样式的加载策略。</td></tr><tr><td>img-src</td><td>‘self’ img.a.com</td><td>定义针对图片的加载策略。</td></tr><tr><td>connect-src</td><td>‘self’</td><td>针对 Ajax、WebSocket 等请求的加载策略。不允许的情况下，浏览器会模拟一个状态为 400 的响应。</td></tr><tr><td>font-src</td><td>font.a.com</td><td>针对 WebFont 的加载策略。</td></tr><tr><td>object-src</td><td>‘self’</td><td>针对 <code>&lt;object&gt;</code>、<code>&lt;embed&gt;</code> 或 <code>&lt;applet&gt;</code> 等标签引入的 flash 等插件的加载策略。</td></tr><tr><td>media-src</td><td>media.a.com</td><td>针对 <code>&lt;audio&gt;</code> 或 <code>&lt;video&gt;</code> 等标签引入的 HTML 多媒体的加载策略。</td></tr><tr><td>frame-src</td><td>‘self’</td><td>针对 frame 的加载策略。</td></tr><tr><td>sandbox</td><td>allow-forms</td><td>对请求的资源启用 sandbox（类似于 iframe 的 sandbox 属性）。</td></tr><tr><td>report-uri</td><td>/report-uri</td><td>告诉浏览器如果请求的资源不被策略允许时，往哪个地址提交日志信息。 特别的：如果想让浏览器只汇报日志，不阻止任何内容，可以改用 <code>Content-Security-Policy-Report-Only</code> 头。</td></tr></tbody></table><p>待处理</p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>Referrer-Policy<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>no-referrer-when-downgrade<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>X-Permitted-Cross-Domain-Policies<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>master-only<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>X-Download-Options<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>noopen<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>————————————————<br>版权声明：本文为CSDN博主「小白旗」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。<br>原文链接：<a href="https://blog.csdn.net/qq_37788558/article/details/105460837">https://blog.csdn.net/qq_37788558/article/details/105460837</a></p>]]></content>
      
      
      <categories>
          
          <category> 学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTTP </tag>
            
            <tag> 网络安全 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java导入Excel特殊字符处理</title>
      <link href="2021/02/03/%E8%AE%A1%E7%AE%97%E6%9C%BA/Java%E5%AF%BC%E5%85%A5Excel%E7%89%B9%E6%AE%8A%E5%AD%97%E7%AC%A6%E5%A4%84%E7%90%86/"/>
      <url>2021/02/03/%E8%AE%A1%E7%AE%97%E6%9C%BA/Java%E5%AF%BC%E5%85%A5Excel%E7%89%B9%E6%AE%8A%E5%AD%97%E7%AC%A6%E5%A4%84%E7%90%86/</url>
      
        <content type="html"><![CDATA[<p>导入Excel数据时，经常出现单元格里有空格、制表符、不显示的特殊字符；下面进行处理</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 去除字符串中的空格、制表符、特殊字符:</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * \t \r \n</span></span><br><span class="line"><span class="comment"> * `&quot;\u202C&quot;` `&quot;\u202D&quot;` `&quot;\u202E&quot;`</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> str</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">replaceBlank</span><span class="params">(String str)</span> </span>&#123;</span><br><span class="line">     <span class="keyword">if</span> (str == <span class="keyword">null</span>) &#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">     &#125;</span><br><span class="line">     Pattern p = Pattern.compile(<span class="string">&quot;[\u202C\u202D\u202E\\s(\\t\\n)\\n]&quot;</span>);</span><br><span class="line">     Matcher m = p.matcher(str);</span><br><span class="line">     <span class="keyword">return</span> m.replaceAll(<span class="string">&quot;&quot;</span>);</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 学习笔记 </category>
          
          <category> 计算机 </category>
          
          <category> 编程随笔 </category>
          
          <category> 代码片段 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> 工具集 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>书签整理</title>
      <link href="2020/01/29/000_%E4%B9%A6%E7%AD%BE%E6%95%B4%E7%90%86/"/>
      <url>2020/01/29/000_%E4%B9%A6%E7%AD%BE%E6%95%B4%E7%90%86/</url>
      
        <content type="html"><![CDATA[<h2 id="工具集"><a href="#工具集" class="headerlink" title="工具集"></a>工具集</h2><h3 id="对照表"><a href="#对照表" class="headerlink" title="对照表"></a>对照表</h3><ul><li><a href="http://tool.oschina.net/commons">HTTP Content-type</a></li><li><a href="http://tool.oschina.net/commons?type=5">HTTP状态码详解</a></li><li><a href="http://tool.oschina.net/commons?type=4">ASCII码</a></li><li><a href="http://tool.oschina.net/commons?type=3">RGB颜色</a></li><li><a href="http://tool.oschina.net/commons?type=2">HTML转义字符</a></li><li><a href="http://tool.oschina.net/commons?type=7">TCP/UDP常见端口</a></li><li><a href="http://tool.oschina.net/commons?type=8">网页常用字体参考</a></li></ul><h3 id="CDN"><a href="#CDN" class="headerlink" title="CDN"></a>CDN</h3><ul><li><a href="https://www.staticfile.org/">Staticfile CDN</a></li><li><a href="http://www.bootcdn.cn/">Bootstrap中文网开源项目</a></li><li><a href="https://cdnjs.com/">The best FOSS CDN</a></li></ul><h3 id="数据分析平台"><a href="#数据分析平台" class="headerlink" title="数据分析平台"></a>数据分析平台</h3><ul><li><a href="https://tongji.baidu.com/web/welcome/login">百度统计</a></li><li><a href="https://zhugeio.com/">诸葛iO</a></li><li><a href="http://www.umeng.com/">友盟</a></li><li><a href="https://www.talkingdata.com/">TalkingData</a></li><li><a href="http://mta.qq.com/">腾讯移动分析</a></li></ul><h3 id="文字识别"><a href="#文字识别" class="headerlink" title="文字识别"></a>文字识别</h3><ul><li><a href="https://cloud.tencent.com/act/event/ocrdemo">腾讯</a></li><li><a href="http://ai.baidu.com/tech/ocr/general">百度</a></li></ul><h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><ul><li><a href="http://www.network-science.de/ascii/">文字转ASCII</a></li><li><a href="https://www.baidufe.com/fehelper">百度前端助手</a></li><li><a href="https://carbon.now.sh/">代码图片值作Carbon</a></li><li><a href="http://www.styb.cn/cms/ieee_754.php">单精度浮点数转换 IEEE 754</a></li><li><a href="http://tool.chinaz.com/tools/unicode.aspx">站长工具-编码解码</a></li><li><a href="https://www.reg007.com/">注册过的网站 REG007</a></li><li><a href="https://login.teamviewer.com/">TeamViewer Management Console</a></li><li><a href="https://www.processon.com/">ProcessOn</a></li><li><a href="https://mail.protonmail.com/">ProtonMail</a></li><li><a href="http://sourcegear.com/diffmerge/downloaded.php">DiffMerge</a></li><li><a href="http://www.c-lodop.com/index.html">Lodop</a></li><li><a href="http://www.stats.gov.cn/tjsj/tjbz/tjypflml/">国家统计局&gt;&gt;统计用产品分类目录</a></li></ul><h2 id="教程集"><a href="#教程集" class="headerlink" title="教程集"></a>教程集</h2><h3 id="c"><a href="#c" class="headerlink" title="c"></a>c</h3><h3 id="css-less-scss"><a href="#css-less-scss" class="headerlink" title="css/less/scss"></a>css/less/scss</h3><h3 id="Docker"><a href="#Docker" class="headerlink" title="Docker"></a>Docker</h3><ul><li><a href="https://docs.docker.com/">官网</a></li><li><a href="https://yeasy.gitbooks.io/docker_practice/content/">Docker 从入门到实践</a></li></ul><h3 id="java基础"><a href="#java基础" class="headerlink" title="java基础"></a>java基础</h3><h3 id="kubernetes-k8s"><a href="#kubernetes-k8s" class="headerlink" title="kubernetes/k8s"></a>kubernetes/k8s</h3><ul><li><a href="https://kubernetes.io/">官网</a></li><li><a href="https://www.kubernetes.org.cn/">中文社区</a></li></ul><h3 id="linux"><a href="#linux" class="headerlink" title="linux"></a>linux</h3><ul><li><a href="https://wangchujiang.com/linux-command/">Linux 命令搜索引擎</a></li></ul><h3 id="markdown"><a href="#markdown" class="headerlink" title="markdown"></a>markdown</h3><ul><li><p><a href="https://mermaid-js.github.io/mermaid/#/">mermaid</a></p></li><li><p><a href="https://www.dazhuanlan.com/2019/10/16/5da67e8a17798/">Hexo 的 markdown-it 渲染引擎和其相关插件</a></p><h3 id="maven"><a href="#maven" class="headerlink" title="maven"></a>maven</h3></li><li><p><a href="https://mvnrepository.com/">maven 仓库</a></p></li></ul><h3 id="mybatis"><a href="#mybatis" class="headerlink" title="mybatis"></a>mybatis</h3><h3 id="mysql"><a href="#mysql" class="headerlink" title="mysql"></a>mysql</h3><h3 id="nginx"><a href="#nginx" class="headerlink" title="nginx"></a>nginx</h3><ul><li><a href="http://tengine.taobao.org/book/index.html">Nginx开发从入门到精通</a></li><li><a href="https://www.nginx.com/blog/introducing-the-nginx-microservices-reference-architecture/">Introducing the Microservices Reference Architecture from NGINX</a></li></ul><h3 id="oracle"><a href="#oracle" class="headerlink" title="oracle"></a>oracle</h3><ul><li><a href="https://blog.csdn.net/xiaoyu19910321/article/details/89856514">安装教程</a></li></ul><h3 id="python"><a href="#python" class="headerlink" title="python"></a>python</h3><ul><li><a href="https://www.liaoxuefeng.com/wiki/1016959663602400">廖雪峰</a></li><li><a href="https://docs.python.org/3/library/functions.html">python3 内建函数</a></li></ul><h3 id="spring"><a href="#spring" class="headerlink" title="spring"></a>spring</h3><h3 id="TCP-IP"><a href="#TCP-IP" class="headerlink" title="TCP/IP"></a>TCP/IP</h3><ul><li><a href="http://jkorpela.fi/http.html">Quick reference to HTTP headers</a></li><li><a href="http://www.ruanyifeng.com/blog/2012/05/internet_protocol_suite_part_i.html">互联网协议入门（一）阮一峰</a></li><li><a href="http://www.ruanyifeng.com/blog/2012/06/internet_protocol_suite_part_ii.html">互联网协议入门（二）阮一峰</a></li></ul><h3 id="Tensorflow"><a href="#Tensorflow" class="headerlink" title="Tensorflow"></a>Tensorflow</h3><ul><li><a href="http://www.tensorfly.cn/">中文社区</a></li></ul><h3 id="tomcat"><a href="#tomcat" class="headerlink" title="tomcat"></a>tomcat</h3><ul><li><a href="https://blog.csdn.net/YaoDeBiAn/article/details/80001406">Tomcat数据源</a></li><li><a href="https://www.w3cschool.cn/tomcat/5y2t1k9g.html">Tomcat 8 权威指南</a></li></ul><h3 id="TypeScript-ES6"><a href="#TypeScript-ES6" class="headerlink" title="TypeScript/ES6"></a>TypeScript/ES6</h3><ul><li><a href="https://ts.xcatliu.com/">TypeScript 入门教程</a></li><li><a href="https://zhongsp.gitbooks.io/typescript-handbook/content/">TypeScript Handbook（中文版）</a></li><li><a href="https://jkchao.github.io/typescript-book-chinese/">《TypeScript Deep Dive》 深入理解TypeScript</a></li></ul><h3 id="工作流"><a href="#工作流" class="headerlink" title="工作流"></a>工作流</h3><ul><li><a href="https://www.activiti.org/userguide/">Activiti User Guide</a></li><li><a href="http://www.mossle.com/docs/activiti/index.html">Activiti 5.16 用户手册</a></li><li><a href="https://waylau.gitbooks.io/activiti-5-x-user-guide/">Activiti 5.x User Guide 《Activiti 5.x 用户指南》中文翻译</a></li></ul><h3 id="规则引擎"><a href="#规则引擎" class="headerlink" title="规则引擎"></a>规则引擎</h3><ul><li><a href="https://www.drools.org/">Drools官网</a></li><li><a href="http://www.drools.org.cn/">Drools中文网</a></li></ul><h3 id="缓存"><a href="#缓存" class="headerlink" title="缓存"></a>缓存</h3><ul><li>Redis<ul><li><a href="https://www.redis.net.cn/">官网</a></li><li><a href="http://redisdoc.com/">命令参考</a></li></ul></li><li>MemoryCache</li></ul><h3 id="全文搜索引擎"><a href="#全文搜索引擎" class="headerlink" title="全文搜索引擎"></a>全文搜索引擎</h3><ul><li><a href="https://blog.csdn.net/csdnYF/article/details/79286792">使用 ElasticSearch6.0 快速实现全文搜索功能</a></li><li><a href="https://www.elastic.co/guide/cn/elasticsearch/guide/current/index.html">ElasticSearch权威指南</a></li></ul><h3 id="前端框架"><a href="#前端框架" class="headerlink" title="前端框架"></a>前端框架</h3><ul><li>VUE<ul><li><a href="https://cn.vuejs.org/v2/guide/">VUE DOC</a></li><li><a href="https://uniapp.dcloud.io/frame">UNI-APP</a></li></ul></li><li>移动端框架<ul><li><a href="https://youzan.github.io/vant/#/zh-CN/quickstart#rem-gua-pei">VANT</a></li></ul></li><li>小程序<ul><li><a href="https://youzan.github.io/vant-weapp/#/intro">Vant Weapp UI 组件库</a></li><li><a href="https://github.com/wechat-miniprogram/miniprogram-cli">miniprogram-cli</a></li><li><a href="https://www.jianshu.com/p/5fdcdf478ec8">微信小程序版本自动更新</a></li></ul></li></ul><h3 id="设计模式"><a href="#设计模式" class="headerlink" title="设计模式"></a>设计模式</h3><h3 id="算法"><a href="#算法" class="headerlink" title="算法"></a>算法</h3><ul><li>练习<ul><li><a href="https://leetcode-cn.com/">LeetCode</a></li></ul></li><li>题解/学习<ul><li><a href="https://www.cs.usfca.edu/~galles/visualization/RedBlack.html">红黑树动画</a></li></ul></li></ul><h3 id="单元测试"><a href="#单元测试" class="headerlink" title="单元测试"></a>单元测试</h3><ul><li><a href="https://junit.org/junit5/docs/current/user-guide/">JUnit 5</a></li><li><a href="http://jmock.org/index.html">jMock</a></li></ul><h3 id="压测"><a href="#压测" class="headerlink" title="压测"></a>压测</h3><ul><li><a href="https://www.cnblogs.com/imyalost/p/7062784.html">JMeter</a></li></ul><h3 id="架构"><a href="#架构" class="headerlink" title="架构"></a>架构</h3><ul><li>前端框架<ul><li><a href="https://github.com/PanJiaChen/vue-element-admin">Vue Element Admin</a></li></ul></li><li>后端框架<ul><li><a href="https://docs.jumpserver.org/zh/docs/introduce.html">Jumpserver开源堡垒机</a></li><li><a href="http://dubbo.apache.org/zh-cn/">Apache Dubbo</a></li></ul></li><li>微服务架构<ul><li><a href="https://www.nginx.com/blog/introducing-the-nginx-microservices-reference-architecture/">Introducing the Microservices Reference Architecture from NGINX</a> </li><li><a href="https://docshome.gitbooks.io/microservices/">微服务：从设计到部署</a></li></ul></li><li>日志框架</li><li>数据分析</li></ul><h3 id="管理"><a href="#管理" class="headerlink" title="管理"></a>管理</h3><ul><li>软件架构模式<ul><li><a href="http://ifeve.com/software-architecture-patterns/">第一章分层架构（上）</a></li><li><a href="http://ifeve.com/%e8%bd%af%e4%bb%b6%e6%9e%b6%e6%9e%84%e6%a8%a1%e5%bc%8f-%e7%ac%ac%e4%b8%80%e7%ab%a0%e5%88%86%e5%b1%82%e6%9e%b6%e6%9e%84%e6%a8%a1%e5%bc%8f2/">第一章分层架构（下）</a></li><li><a href="http://ifeve.com/%e8%bd%af%e4%bb%b6%e6%9e%b6%e6%9e%84%e6%a8%a1%e5%bc%8f-%e7%ac%ac%e4%ba%8c%e7%ab%a0%e4%ba%8b%e4%bb%b6%e9%a9%b1%e5%8a%a8%e6%9e%b6%e6%9e%84%e4%b8%8a/">第二章事件驱动架构(上)</a></li><li><a href="http://ifeve.com/%e8%bd%af%e4%bb%b6%e6%9e%b6%e6%9e%84%e6%a8%a1%e5%bc%8f-%e7%ac%ac%e4%ba%8c%e7%ab%a0%e4%ba%8b%e4%bb%b6%e9%a9%b1%e5%8a%a8%e6%9e%b6%e6%9e%84%e4%b8%8b/">第二章事件驱动架构(下)</a></li><li><a href="http://ifeve.com/%e3%80%8a%e8%bd%af%e4%bb%b6%e6%9e%b6%e6%9e%84%e6%a8%a1%e5%bc%8f%e3%80%8b-%e7%ac%ac%e4%b8%89%e7%ab%a0-%e5%be%ae%e5%86%85%e6%a0%b8%e7%b3%bb%e7%bb%9f%e7%bb%93%e6%9e%84/">第三章 微内核系统结构</a></li><li><a href="http://ifeve.com/%e3%80%8a%e8%bd%af%e4%bb%b6%e6%9e%b6%e6%9e%84%e6%a8%a1%e5%bc%8f%e3%80%8b-%e7%ac%ac%e5%9b%9b%e7%ab%a0-%e5%be%ae%e6%9c%8d%e5%8a%a1%e6%a1%86%e6%9e%b6%e6%a8%a1%e5%bc%8f%ef%bc%88%e4%b8%8a%ef%bc%89/">第四章 微服务框架模式（上）</a></li><li><a href="http://ifeve.com/%e3%80%8a%e8%bd%af%e4%bb%b6%e6%9e%b6%e6%9e%84%e6%a8%a1%e5%bc%8f%e3%80%8b-%e7%ac%ac%e5%9b%9b%e7%ab%a0-%e5%be%ae%e6%9c%8d%e5%8a%a1%e6%a1%86%e6%9e%b6%e6%a8%a1%e5%bc%8f%ef%bc%88%e4%b8%8b%ef%bc%89/">第四章 微服务框架模式（下）</a></li></ul></li></ul><h3 id="面试"><a href="#面试" class="headerlink" title="面试"></a>面试</h3><ul><li><a href="https://cyc2018.github.io/CS-Notes/">技术面必备的基础知识</a></li></ul><h3 id="资源下载"><a href="#资源下载" class="headerlink" title="资源下载"></a>资源下载</h3><h2 id="学习站点"><a href="#学习站点" class="headerlink" title="学习站点"></a>学习站点</h2><ul><li><a href="http://academictorrents.com/">Academic Torrents</a></li><li><a href="http://www.programcreek.com/">ProgramCreek</a></li><li><a href="https://pintia.cn/problem-sets">PTA</a></li><li><a href="https://classroom.udacity.com/me">Udacity</a></li><li><a href="https://www.icourse163.org/">中国大学MOOC</a></li><li><a href="https://www.oschina.net/">开源中国</a></li><li><a href="http://www.icourses.cn/home/">爱课程</a></li><li><a href="https://www.nowcoder.com/">牛客网</a></li><li><a href="https://www.coursera.org/">Coursera 课程</a></li><li><a href="https://stackoverflow.com/">Stack Overflow</a></li><li><a href="https://coolshell.cn/">酷壳</a></li></ul><h2 id="文献论文"><a href="#文献论文" class="headerlink" title="文献论文"></a>文献论文</h2><ul><li><a href="https://www.engineeringvillage.com/search/quick.url">Engineering Village</a></li><li><a href="https://link.springer.com/">Springer</a></li><li><a href="http://search.sciencemag.org/">Search Science</a></li><li><a href="http://www.wanfangdata.com.cn/index.html">万方数据知识服务平台</a></li><li><a href="https://www.nstl.gov.cn/">国家科技图书文献中心</a></li><li><a href="https://www.cnki.net/">中国知网</a></li><li><a href="http://aelab.net/">aedraw</a></li><li><a href="http://www.bzfxw.com/">学兔兔</a></li></ul><h2 id="UML-收集"><a href="#UML-收集" class="headerlink" title="UML 收集"></a>UML 收集</h2><ul><li><a href="https://www.processon.com/view/595daf26e4b068b0a241f7c2">财务组织</a></li><li><a href="https://www.processon.com/view/59e981a4e4b00842bddfbf65">电商购物支付流程中的支付结果回调处理流程</a></li><li><a href="https://www.processon.com/view/57357c30e4b0c102ad31b565">高性能MySQL总结</a></li><li><a href="https://www.processon.com/view/598e8a1ee4b0b83fa25e0445">工作常用辅助IT工具</a></li><li><a href="https://www.processon.com/view/5b03d1c6e4b01f32972b8b1e">管理员状态图</a></li><li><a href="https://www.processon.com/view/5b8f2a70e4b0d4d65bf6411c">互联网+政务服务技术体系建设指南</a></li><li><a href="https://www.processon.com/view/5a0d3b61e4b06c8e1091e2a7">互联网产品迭代反馈团队协作流程</a></li><li><a href="https://www.processon.com/view/54abbb84e4b0f90534fd0e49">计算机网络</a></li><li><a href="https://www.processon.com/view/5aa8b855e4b0a84684038ef7">技术架构</a></li><li><a href="https://www.processon.com/view/54bf441de4b0c7bde4e59403">架构图</a></li><li><a href="https://www.processon.com/view/590993c8e4b056fe6425a3a1">平台高可用小集</a></li><li><a href="https://www.processon.com/view/5a9cff92e4b04b1b69015a00">平台架构图</a></li><li><a href="https://www.processon.com/view/57ecb680e4b0300f4fbccadf#map">前端</a></li><li><a href="https://www.processon.com/view/5b691580e4b053a09c2823ee">身份认证方案</a></li><li><a href="https://www.processon.com/view/5a2654c6e4b0f3a79866ac4b">数据驱动</a></li><li><a href="https://www.processon.com/view/5afcdff3e4b02ec429d29d65">推送系统结构</a></li><li><a href="https://www.processon.com/view/58ba81bce4b0bb529f2428db">微服务</a></li><li><a href="https://www.processon.com/view/5b431563e4b00b08ad1306ba">微服务部署与监控运维架构图 </a></li><li><a href="https://www.processon.com/view/5bf51ecfe4b0f012f22bf240">微服务架构+DevOps</a></li><li><a href="https://www.processon.com/view/5a4c3d51e4b078cf1edacfe9">微机原理</a></li><li><a href="https://www.processon.com/view/5719ec36e4b005d06ff488de">微商城SAAS数据库表结构-公共功能业务</a></li><li><a href="https://www.processon.com/view/598d14a4e4b01618aacfe247">微信聊天原型图</a></li><li><a href="https://www.processon.com/view/5be10c0fe4b05aadb7d04072">物联网云平台架构设计</a></li><li><a href="https://www.processon.com/view/57862934e4b0a94dc24bbfe7">系统架构图</a></li><li><a href="https://www.processon.com/view/5a91170ce4b0615ac05e89f4">系统架构图1</a></li><li><a href="https://www.processon.com/view/59a681fde4b063c756f94ca0">系统框架图2</a></li><li><a href="https://www.processon.com/view/5aa63460e4b0d77c8a850fbb">业务流程</a></li><li><a href="https://www.processon.com/view/5a1be580e4b0b3ee0574811e">用户登录时序图</a></li><li><a href="https://www.processon.com/view/5a4ae442e4b0be852db6c490">用户画像系统架构设计</a></li><li><a href="https://www.processon.com/view/583e280de4b0e742e4524505">云架构图</a></li><li><a href="https://www.processon.com/view/5a77f599e4b059c41ab54de4">云平台系统架构图</a></li><li><a href="https://www.processon.com/view/5a8f6beae4b0874437cbee46">政务系统拓扑图</a></li><li><a href="https://www.processon.com/view/58e4541be4b0a2c5b1218349">Dubbo</a></li><li><a href="https://www.processon.com/view/587c6bf9e4b087b115ed5538">ERP结构图 总</a></li><li><a href="https://www.processon.com/view/5bc73d4ce4b0bd4db968ae41">ERP系统登录流程</a></li><li><a href="https://www.processon.com/view/59d9aa93e4b017b4197a15fe">IM 客户端架构 |</a></li><li><a href="https://www.processon.com/view/5ab09e3ae4b0e93533935bcc">Java架构师技术栈</a></li><li><a href="https://www.processon.com/view/59e874a6e4b0b640aeeca4ac">Linux命令</a></li><li><a href="https://www.processon.com/view/5993b471e4b06df7265b49c6">Mybatis架构源码分析流程</a></li><li><a href="https://www.processon.com/view/57b856d9e4b03e7bd5b0d74e">MySQL</a></li><li><a href="https://www.processon.com/view/5b16331be4b03f9d250f3183">spring cloud 微服务</a></li><li><a href="https://www.processon.com/view/5797120ae4b0683474301869">TCP正常状态变迁图 </a></li><li><a href="https://www.processon.com/view/534cc3ee0cf236ef7e6265cd">WebChat Routing Logic</a></li><li><a href="https://www.processon.com/view/59f43b0de4b0d53d97919482">webview架构图</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> 文档记录 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 书签 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>日志文件分割定期删除处理</title>
      <link href="2020/01/29/%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6%E5%88%86%E5%89%B2%E5%AE%9A%E6%9C%9F%E5%88%A0%E9%99%A4%E5%A4%84%E7%90%86/"/>
      <url>2020/01/29/%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6%E5%88%86%E5%89%B2%E5%AE%9A%E6%9C%9F%E5%88%A0%E9%99%A4%E5%A4%84%E7%90%86/</url>
      
        <content type="html"><![CDATA[<h2 id="分割、删除-N-天前日志"><a href="#分割、删除-N-天前日志" class="headerlink" title="分割、删除 N 天前日志"></a>分割、删除 N 天前日志</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">DIR=日志地址</span><br><span class="line">d=`date +%Y%m%d`</span><br><span class="line"><span class="built_in">cd</span> <span class="variable">$DIR</span></span><br><span class="line">cp catalina.out catalina.out.bak<span class="variable">$&#123;d&#125;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;&quot;</span> &gt; catalina.out</span><br><span class="line"></span><br><span class="line">find ./ -mtime +7 -name <span class="string">&quot;catalina.out.bak*&quot;</span> -<span class="built_in">exec</span> rm -rf &#123;&#125; \;</span><br></pre></td></tr></table></figure><h2 id="添加定时任务"><a href="#添加定时任务" class="headerlink" title="添加定时任务"></a>添加定时任务</h2><p>将auto_clean.sh执行脚本加入到系统计划任务，到点自动执行</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">crontab -e</span><br></pre></td></tr></table></figure><p>输入：</p><figure class="highlight"><table><tr><td class="code"><pre><span class="line">59 23 * * * /opt/soft/log/auto_clean.sh &gt;/dev/null 2&gt;&amp;1</span><br></pre></td></tr></table></figure><p>这里的设置是每天23点59分执行auto_clean.sh文件进行数据清理任务了。</p>]]></content>
      
      
      <categories>
          
          <category> 文档记录 </category>
          
          <category> 运维脚本 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> bash </tag>
            
            <tag> 运维 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>书单</title>
      <link href="2020/01/29/000_%E4%B9%A6%E5%8D%95/"/>
      <url>2020/01/29/000_%E4%B9%A6%E5%8D%95/</url>
      
        <content type="html"><![CDATA[<h2 id="计算机"><a href="#计算机" class="headerlink" title="计算机"></a>计算机</h2><table><thead><tr><th>科目</th><th>最佳书籍</th><th>最佳视频</th></tr></thead><tbody><tr><td>分布式系统</td><td>《分布式系统原理与范型》（中文第二版，英文第三版）</td><td></td></tr><tr><td>操作系统</td><td>《操作系统导论》</td><td>Berkeley CS 162</td></tr><tr><td>数学知识</td><td>《计算机科学中的数学》</td><td>Tom Leighton’s MIT 6.042J</td></tr><tr><td>数据库</td><td>《Readings in Database Systems》 （暂无中译本）</td><td>Joe Hellerstein’s Berkeley CS 186</td></tr><tr><td>算法与数据结构</td><td>《算法设计手册》</td><td>Steven Skiena’s lectures</td></tr><tr><td>编程</td><td>《计算机程序的构造和解释》</td><td>Brian Harvey’s Berkeley CS 61A</td></tr><tr><td>编程语言与编译器</td><td>《编译原理》</td><td>Alex Aiken’s course on Lagunita</td></tr><tr><td>计算机架构</td><td>《计算机组成与设计》</td><td>Berkeley CS 61C</td></tr><tr><td>计算机网络</td><td>《计算机网络：自顶向下方法》</td><td>Stanford CS 144</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> 文档记录 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 书单 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>增广贤文</title>
      <link href="2020/01/29/%E5%A2%9E%E5%B9%BF%E8%B4%A4%E6%96%87/"/>
      <url>2020/01/29/%E5%A2%9E%E5%B9%BF%E8%B4%A4%E6%96%87/</url>
      
        <content type="html"><![CDATA[<p>昔时贤文，诲汝谆谆，集韵增文，多见多闻。<br>观今宜鉴古，无古不成今。<br>知己知彼，将心比心。<br>酒逢知己饮，诗向会人吟。<br>相识满天下，知心能几人。<br>相逢好似初相识，到老终无怨恨心。<br>近水知鱼性，近山识鸟音。<br>易涨易退山溪水，易反易覆小人心。<br>运去金成铁，时来铁似金，读书须用意，一字值千金。<br>逢人且说三分话，未可全抛一片心。<br>有意栽花花不发，无心插柳柳成阴。<br>画虎画皮难画骨，知人知面不知心。<br>钱财如粪土，仁义值千金。<br>流水下滩非有意，白云出岫本无心。<br>当时若不登高望，谁信东流海洋深。<br>路遥知马力，事久见人心。<br>两人一般心，无钱堪买金，一人一般心，有钱难买针。<br>相见易得好，久住难为人。<br>马行无力皆因瘦，人不风流只为贫。<br>饶人不是痴汉，痴汉不会饶人。<br>是亲不是亲，非亲却是亲。<br>美不美，乡中水，亲不亲，故乡人。<br>莺花犹怕春光老，岂可教人枉度春。<br>相逢不饮空归去，洞口桃花也笑人。<br>红粉佳人休使老，风流浪子莫教贫。<br>在家不会迎宾客，出外方知少主人。<br>黄金无假，阿魏无真。<br>客来主不顾，应恐是痴人。<br>贫居闹市无人问，富在深山有远亲。<br>谁人背后无人说，哪个人前不说人。<br>有钱道真语，无钱语不真。<br>不信但看筵中酒，杯杯先劝有钱人。<br>闹里有钱，静处安身。<br>来如风雨，去似微尘。<br>长江后浪推前浪，世上新人赶旧人。<br>近水楼台先得月，向阳花木早逢春。<br>莫道君行早，更有早行人。<br>莫信直中直，须防仁不仁。<br>山中有直树，世上无直人。<br>自恨枝无叶，莫怨太阳偏。<br>大家都是命，半点不由人。<br>一年之计在于春，一日之计在于寅，一家之计在于和，一生之计在于勤。<br>责人之心责己，恕己之心恕人。<br>守口如瓶，防意如城。<br>宁可人负我，切莫我负人。<br>再三须慎意，第一莫欺心。<br>虎生犹可近，人熟不堪亲。<br>来说是非者，便是是非人。<br>远水难救近火，远亲不如近邻。<br>有茶有酒多兄弟，急难何曾见一人。<br>人情似纸张张薄，世事如棋局局新。<br>山中也有千年树，世上难逢百岁人。<br>力微休负重，言轻莫劝人。<br>无钱休入众，遭难莫寻亲。<br>平生莫作皱眉事，世上应无切齿人。<br>士者国之宝，儒为席上珍。<br>若要断酒法，醒眼看醉人。<br>求人须求大丈夫，济人须济急时无。<br>渴时一滴如甘露，醉后添杯不如无。<br>久住令人贱，频来亲也疏。<br>酒中不语真君子，财上分明大丈夫。<br>出家如初，成佛有余。<br>积金千两，不如明解经书。<br>养子不教如养驴，养女不教如养猪。<br>有田不耕仓廪虚，有书不读子孙愚。<br>仓廪虚兮岁月乏，子孙愚兮礼义疏。<br>同君一席话，胜读十年书。<br>人不通今古，马牛如襟裾。<br>茫茫四海人无数，哪个男儿是丈夫。<br>白酒酿成缘好客，黄金散尽为收书。<br>救人一命，胜造七级浮屠。<br>城门失火，殃及池鱼。<br>庭前生瑞草，好事不如无。<br>欲求生富贵，须下死工夫。<br>百年成之不足，一旦败之有余。<br>人心似铁，官法如炉。<br>善化不足，恶化有余。<br>水太清则无鱼，人至察则无徒。<br>知者减半，省者全无。<br>在家由父，出家从夫。<br>痴人畏妇，贤女敬夫。<br>是非终日有，不听自然无。<br>宁可正而不足，不可邪而有余。<br>宁可信其有，不可信其无。<br>竹篱茅舍风光好，道院僧堂终不如。<br>命里有时终须有，命里无时莫强求。<br>道院迎仙客，书堂隐相儒。<br>庭栽栖凤竹，池养化龙鱼。<br>结交须胜己，似我不如无。<br>但看三五日，相见不如初。<br>人情似水分高下，世事如云任卷舒。<br>会说说都是，不会说无礼。<br>磨刀恨不利，刀利伤人指。<br>求财恨不得，财多害自己。<br>知足常足，终身不辱。<br>知止常止，终身不耻。<br>有福伤财，无福伤己。<br>差之毫厘，失之千里。<br>若登高必自卑，若涉远必自迩。<br>三思而行，再思可矣。<br>使口不如自走，求人不如求己。<br>小时是兄弟，长大各乡里。<br>妒财莫妒食，怨生莫怨死。<br>人见白头嗔，我见白头喜。<br>多少少年亡，不到白头死。<br>墙有逢，壁有耳。<br>好事不出门，恶事传千里。<br>贼是小人，知过君子。<br>君子固穷，小人穷斯滥也。<br>贫穷自在，富贵多忧。<br>不以我为德，反以我为仇。<br>宁向直中取，不可曲中求。<br>人无远虑，必有近忧。<br>知我者为我心忧，不知我者谓我何求。<br>晴天不肯去，只待雨淋头。<br>成事莫说，覆水难收。<br>是非只为多开口，烦恼皆因强出头。<br>忍得一时之气，免得百日之忧。<br>近来学得乌龟法，得缩头时且缩头。<br>惧法朝朝乐，欺公日日忧。<br>人生一世，草生一春。<br>黑发不知勤学早，看看又是白头翁。<br>月到十五光明少，人到中年万事休。<br>儿孙自有儿孙福，莫为儿孙作马牛。<br>人生不满百，常怀千岁忧。<br>今朝有酒今朝醉，明日愁来明日忧。<br>路逢险处难回避，事到头来不自由。<br>药能医假病，酒不解真愁。<br>人贫不语，水平不流。<br>一家有女百家求，一马不行百马忧。<br>有花方酌酒，无月不登楼。<br>三杯通大道，一醉解千愁。<br>深山毕竟藏猛虎，大海终须纳细流。<br>惜花须检点，爱月不梳头。<br>大抵选他肌骨好，不擦红粉也风流。<br>受恩深处宜先退，得意浓时便可休。<br>莫待是非来入耳，从前恩爱反为仇。<br>留得五湖明月在，不愁无处下金钩。<br>休别有鱼处，莫恋浅滩头。<br>去时终须去，再三留不住。<br>忍一句，息一怒，饶一着，退一步。<br>三十不豪，四十不富，五十将来寻死路。<br>生不论魂，死不认尸。<br>父母恩深终有别，夫妻义重也分离。<br>人生似鸟同林宿，大限来时各自飞。<br>人善被人欺，马善被人骑。<br>人无横财不富，马无野草不肥。<br>人恶人怕天不怕，人善人欺天不欺。<br>善恶到头终有报，只争来早与来迟。<br>黄河尚有澄清日，岂可人无得运时。<br>得宠思辱，安居虑危。<br>念念有如临敌日，心心常似过桥时。<br>英雄行险道，富贵似花枝。<br>人情莫道春光好，只怕秋来有冷时。<br>送君千里，终须一别。<br>但将冷眼看螃蟹，看你横行到几时。<br>见事莫说，问事不知。<br>闲事休管，无事早归。<br>假缎染就真红色，也被旁人说是非。<br>善事可作，恶事莫为。<br>许人一物，千金不移。<br>龙生龙子，虎生豹儿。<br>龙游浅水遭虾戏，虎落平阳被犬欺。<br>一举首登龙虎榜，十年身到风凰池。<br>十年窗下无人问，一举成名天下知。<br>酒债寻常行处有，人生七十古来稀。<br>养儿待老，积谷防饥。<br>鸡豚狗彘之畜，无失其时。<br>数家之口，可以无饥矣。<br>常将有日思无日，莫把无时当有时。<br>时来风送腾王阁，运去雷轰荐福碑。<br>入门休问荣枯事，观看容颜便得知。<br>官清书吏瘦，神灵庙祝肥。<br>息却雷霆之怒，罢却虎狼之威。<br>饶人算人之本，输人算人之机。<br>好言难得，恶语易施。<br>一言既出，驷马难追。<br>道吾好者是吾贼，道吾恶者是吾师。<br>路逢侠客须呈剑，不是才人莫献诗。<br>三人同行，必有我师，择其善者而从之，其不善者而改之。<br>少壮不努力，老大徒悲伤。<br>人有善愿，天必佑之。<br>莫饮卯时酒，昏昏醉到酉。<br>莫骂酉时妻，一夜受孤凄。<br>种麻得麻，种豆得豆。<br>天眼恢恢，疏而不漏。<br>见官莫向前，做客莫在后。<br>宁添一斗，莫添一口。<br>螳螂捕蝉，岂知黄雀在后。<br>不求金玉重重贵，但愿儿孙个个贤。<br>一日夫妻，百世姻缘。<br>百世修来同船渡，千世修来共枕眠。<br>杀人一万，自损三千。<br>伤人一语，利如刀割。<br>枯木逢春犹再发，人无两度再少年。<br>未晚先投宿，鸡鸣早看天。<br>将相胸前堪走马，公候肚里好撑船。<br>富人思来年，穷人思眼前。<br>世上若要人情好，赊去物件莫取钱。<br>死生有命，富贵在天。<br>击石原有火，不击乃无烟。<br>为学始知道，不学亦徒然。<br>莫笑他人老，终须还到老。<br>但能依本分，终须无烦恼。<br>君子爱财，取之有道。<br>贞妇爱色，纳之以礼。<br>善有善报，恶有恶报。<br>不是不报，日子不到。<br>人而无信，不知其可也。<br>一人道好，千人传实。<br>凡事要好，须问三老。<br>若争小可，便失大道。<br>年年防饥，夜夜防盗。<br>学者如禾如稻，不学者如蒿如草。<br>遇饮酒时须饮酒，得高歌处且高歌。<br>因风吹火，用力不多。<br>不因渔父引，怎得见波涛。<br>无求到处人情好，不饮从他酒价高。<br>知事少时烦恼少，识人多处是非多。<br>入山不怕伤人虎，只怕人情两面刀。<br>强中更有强中手，恶人须用恶人磨。<br>会使不在家豪富，风流不用着衣多。<br>光阴似箭，日月如梭。<br>天时不如地利，地利不如人和。<br>黄金未为贵，安乐值钱多。<br>世上万般皆下品，思量唯有读书高。<br>世间好语书说尽，天下名山僧占多。<br>为善最乐，为恶难逃。<br>羊有跪乳之恩，鸦有反哺之义。<br>你急他未急，人闲心不闲。<br>隐恶扬善，执其两端。<br>妻贤夫祸少，子孝父心宽。<br>既坠釜甑，反顾无益。<br>翻覆之水，收之实难。<br>人生知足何时足，人老偷闲且是闲。<br>但有绿杨堪系马，处处有路透长安。<br>见者易，学者难。<br>莫将容易得，便作等闲看。<br>用心计较般般错，退步思量事事难。<br>道路各别，养家一般。<br>从俭入奢易，从奢入俭难。<br>知音说与知音听，不是知音莫与弹。<br>点石化为金，人心犹未足。<br>信了肚，卖了屋。<br>他人观花，不涉你目。<br>他人碌碌，不涉你足。<br>谁人不爱子孙贤，谁人不爱千钟粟。<br>莫把真心空计较，五行不是这题目。<br>与人不和，劝人养鹅。<br>与人不睦，劝人架屋。<br>但行好事，莫问前程。<br>河狭水急，人急计生。<br>明知山有虎，莫向虎山行。<br>路不行不到，事不为不成。<br>人不劝不善，钟不打不鸣。<br>无钱方断酒，临老始看经。<br>点塔七层，不如暗处一灯。<br>万事劝人休瞒昧，举头三尺有神明。<br>但存方寸土，留与子孙耕。<br>灭却心头火，剔起佛前灯。<br>惺惺常不足，懵懵作公卿。<br>众星朗朗，不如孤月独明。<br>兄弟相害，不如自生。<br>合理可作，小利莫争。<br>牡丹花好空入目，枣花虽小结实成。<br>欺老莫欺小，欺人心不明。<br>随分耕锄收地利，他时饱满谢苍天。<br>得忍且忍，得耐且耐。<br>不忍不耐，小事成大。<br>相论逞英雄，家计渐渐退。<br>贤妇令夫贵，恶妇令夫败。<br>一人有庆，兆民咸赖。<br>人老心未老，人穷志莫穷。<br>人无千日好，花无百日红。<br>杀人可恕，情理难容。<br>乍富不知新受用，乍贫难改旧家风。<br>座上客常满，樽中酒不空。<br>屋漏更遭连年雨，行船又遇打头风。<br>笋因落箨方成竹，鱼为奔波始化龙。<br>记得少年骑竹马，看看又是白头翁。<br>礼义生于富足，盗贼出于贫穷。<br>天上众星皆拱北，世间无水不朝东。<br>君子安平，达人知命。<br>忠言逆耳利于行，良药苦口利于病。<br>顺天者存，逆天者亡。<br>人为财死，鸟为食亡。<br>夫妻相合好，琴瑟与笙簧。<br>有儿贫不久，无子富不长。<br>善必寿老，恶必早亡。<br>爽口食多偏作药，快心事过恐生殃。<br>富贵定要安本分，贫穷不必枉思量。<br>画水无风空作浪，绣花虽好不闻香。<br>贪他一斗米，失却半年粮。<br>争他一脚豚，反失一肘羊。<br>龙归晚洞云犹湿，麝过春山草木香。<br>平生只会量人短，何不回头把自量。<br>见善如不及，见恶如探汤。<br>人贫志短，马瘦毛长。<br>自家心里急，他人未知忙。<br>贫无达士将金赠，病有高人说药方。<br>触来莫与说，事过心清凉。<br>秋至满山多秀色，春来无处不花香。<br>凡人不可貌相，海水不可斗量。<br>清清之水，为土所防。<br>济济之士，为酒所伤。<br>蒿草之下，或有兰香。<br>茅茨之屋，或有侯王。<br>无限朱门生饿殍，几多白屋出卿。<br>醉后乾坤大，壶中日月长。<br>万事皆已定，浮生空白茫。<br>千里送毫毛，礼轻仁义重。<br>一人传虚，百人传实。<br>世事明如镜，前程暗似漆。<br>光阴黄金难买，一世如驹过隙。<br>良田万倾，日食一升。<br>大厦千间，夜眠八尺。<br>千经万典，孝义为先。<br>一字入公门，九牛拖不出。<br>衙门八字开，有理无钱莫进来。<br>富从升合起，贫因不算来。<br>家中无才子，官从何处来。<br>万事不由人计较，一生都是命安排。<br>急行慢行，前程只有多少路。<br>人间私语，天闻若雷。<br>暗室亏心，神目如电。<br>一毫之恶，劝人莫作。<br>一毫之善，与人方便。<br>欺人是祸，饶人是福。<br>天眼恢恢，报应甚速。<br>圣贤言语，神钦鬼伏。<br>人各有心，心各有见。<br>口说不如身逢，耳闻不如目见。<br>养军千日，用在一朝。<br>国清才子贵，家富小儿骄。<br>利刀割体痕易合，恶语伤人恨不消。<br>公道世间唯白发，贵人头上不曾饶。<br>有钱堪出众，无衣懒出门。<br>为官须作相，及第必争先。<br>苗从地发，树向枝分。<br>父子和而家不退，兄弟和而家不分。<br>官有正条，民有和约。<br>闲时不烧香，急时抱佛脚。<br>幸生太平无事日，恐逢年老不多时。<br>国乱思良将，家贫思贤妻。<br>池塘积水须防旱，田地勤耕足养家。<br>根深不怕风摇动，树正无愁月影斜。<br>奉劝君子，各宜守己。<br>只此程式，万无一失。</p>]]></content>
      
      
      <categories>
          
          <category> 文学摘录 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>数据库中IP地址的存储</title>
      <link href="2020/01/29/%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%ADIP%E5%9C%B0%E5%9D%80%E7%9A%84%E5%AD%98%E5%82%A8/"/>
      <url>2020/01/29/%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%ADIP%E5%9C%B0%E5%9D%80%E7%9A%84%E5%AD%98%E5%82%A8/</url>
      
        <content type="html"><![CDATA[<p>大多数公司的表结构都需要经过DBA进行审核，有时候你会看到存储IP地址采用varchar(15)，这种方式都是传统的做法，这种方法需要占用15个字节，那么有更省空间的做法么？肯定是有的，那就是用int存储。如果采用int存储这里又有2种处理方式。</p><ol><li>利用MySQL函数进行处理。可以采用INET_ATON，INET_NTOA函数进行转换。</li><li>利用开发语言的函数进行处理，以php进行举例。可以采用ip2long，long2ip函数进行转换；java语言处理工具类如下：</li></ol><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created with IntelliJ IDEA.</span></span><br><span class="line"><span class="comment"> * Desc:  IP地址使用无符号整型存储</span></span><br><span class="line"><span class="comment"> * User:  Xiaomo Song</span></span><br><span class="line"><span class="comment"> * Date: 2018-11-26</span></span><br><span class="line"><span class="comment"> * Time: 17:12</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">IPConvetor</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ip地址转成long型数字</span></span><br><span class="line"><span class="comment">     * 将IP地址转化成整数的方法如下：</span></span><br><span class="line"><span class="comment">     * 1、通过String的split方法按.分隔得到4个长度的数组</span></span><br><span class="line"><span class="comment">     * 2、通过左移位操作（&lt;&lt;）给每一段的数字加权，</span></span><br><span class="line"><span class="comment">     * 第一段的权为2的24次方，</span></span><br><span class="line"><span class="comment">     * 第二段的权为2的16次方，</span></span><br><span class="line"><span class="comment">     * 第三段的权为2的8次方，最后一段的权为1</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> strIp</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">long</span> <span class="title">ipToLong</span><span class="params">(String strIp)</span> </span>&#123;</span><br><span class="line">        String[] ip = strIp.split(<span class="string">&quot;\\.&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> (Long.parseLong(ip[<span class="number">0</span>]) &lt;&lt; <span class="number">24</span>) +</span><br><span class="line">            (Long.parseLong(ip[<span class="number">1</span>]) &lt;&lt; <span class="number">16</span>) +</span><br><span class="line">            (Long.parseLong(ip[<span class="number">2</span>]) &lt;&lt; <span class="number">8</span>) +</span><br><span class="line">            Long.parseLong(ip[<span class="number">3</span>]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 将十进制整数形式转换成127.0.0.1形式的ip地址</span></span><br><span class="line"><span class="comment">     * 将整数形式的IP地址转化成字符串的方法如下：</span></span><br><span class="line"><span class="comment">     * 1、将整数值进行右移位操作（&gt;&gt;&gt;），右移24位，右移时高位补0，得到的数字即为第一段IP。</span></span><br><span class="line"><span class="comment">     * 2、通过与操作符（&amp;）将整数值的高8位设为0，再右移16位，得到的数字即为第二段IP。</span></span><br><span class="line"><span class="comment">     * 3、通过与操作符吧整数值的高16位设为0，再右移8位，得到的数字即为第三段IP。</span></span><br><span class="line"><span class="comment">     * 4、通过与操作符吧整数值的高24位设为0，得到的数字即为第四段IP。</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> longIp</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">longToIP</span><span class="params">(<span class="keyword">long</span> longIp)</span> </span>&#123;</span><br><span class="line">        StringBuffer sb = <span class="keyword">new</span> StringBuffer(<span class="string">&quot;&quot;</span>);</span><br><span class="line">        <span class="comment">// 直接右移24位</span></span><br><span class="line">        sb.append(String.valueOf((longIp &gt;&gt;&gt; <span class="number">24</span>)));</span><br><span class="line">        sb.append(<span class="string">&quot;.&quot;</span>);</span><br><span class="line">        <span class="comment">// 将高8位置0，然后右移16位</span></span><br><span class="line">        sb.append(String.valueOf((longIp &amp; <span class="number">0x00FFFFFF</span>) &gt;&gt;&gt; <span class="number">16</span>));</span><br><span class="line">        sb.append(<span class="string">&quot;.&quot;</span>);</span><br><span class="line">        <span class="comment">// 将高16位置0，然后右移8位</span></span><br><span class="line">        sb.append(String.valueOf((longIp &amp; <span class="number">0x0000FFFF</span>) &gt;&gt;&gt; <span class="number">8</span>));</span><br><span class="line">        sb.append(<span class="string">&quot;.&quot;</span>);</span><br><span class="line">        <span class="comment">// 将高24位置0</span></span><br><span class="line">        sb.append(String.valueOf((longIp &amp; <span class="number">0x000000FF</span>)));</span><br><span class="line">        <span class="keyword">return</span> sb.toString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        System.out.println(ipToLong(<span class="string">&quot;255.255.0.255&quot;</span>));</span><br><span class="line">        System.out.println(longToIP(<span class="number">4294967295L</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 学习笔记 </category>
          
          <category> 计算机 </category>
          
          <category> 编程随笔 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> 工具类 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>地图坐标系转换算法</title>
      <link href="2020/01/29/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E5%9C%B0%E5%9B%BE%E5%9D%90%E6%A0%87%E7%B3%BB%E8%BD%AC%E6%8D%A2%E7%AE%97%E6%B3%95/"/>
      <url>2020/01/29/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E5%9C%B0%E5%9B%BE%E5%9D%90%E6%A0%87%E7%B3%BB%E8%BD%AC%E6%8D%A2%E7%AE%97%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<h2 id="当前互联网地图的坐标系现状"><a href="#当前互联网地图的坐标系现状" class="headerlink" title="当前互联网地图的坐标系现状"></a>当前互联网地图的坐标系现状</h2><ul><li>地球坐标 (WGS84)<ul><li>国际标准，从专业 GPS 设备中取出的数据的坐标系。国际地图提供商使用的坐标系。</li></ul></li><li>火星坐标 (GCJ-02)也叫国测局坐标系<ul><li>中国标准，从国行移动设备中定位获取的坐标数据使用这个坐标系。</li><li>国家规定： 国内出版的各种地图系统（包括电子形式），必须至少采用GCJ-02对地理位置进行首次加密。</li></ul></li><li>百度坐标 (BD-09)<ul><li>百度标准，百度 SDK，百度地图，Geocoding 使用(百度在火星坐标上的二次加密)。</li></ul></li></ul><h2 id="互联网在线地图使用的坐标系"><a href="#互联网在线地图使用的坐标系" class="headerlink" title="互联网在线地图使用的坐标系"></a>互联网在线地图使用的坐标系</h2><ul><li>火星坐标系：<ul><li>iOS 地图（其实是高德）、Gogole地图、搜搜、阿里云、高德地图</li></ul></li><li>百度坐标系：<ul><li>当然只有百度地图</li></ul></li><li>WGS84坐标系：<ul><li>国际标准，谷歌国外地图、osm地图等国外的地图一般都是这个。</li></ul></li></ul><h2 id="从设备获取经纬度（GPS）坐标"><a href="#从设备获取经纬度（GPS）坐标" class="headerlink" title="从设备获取经纬度（GPS）坐标"></a>从设备获取经纬度（GPS）坐标</h2><ul><li>如果使用的是百度sdk那么可以获得百度坐标（bd09）或者火星坐标（GCJ02),默认是bd09。</li><li>如果使用的是ios的原生定位库，那么获得的坐标是WGS84。</li><li>如果使用的是高德sdk,那么获取的坐标是GCJ02。</li></ul><h2 id="详细代码"><a href="#详细代码" class="headerlink" title="详细代码"></a>详细代码</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">define(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">//定义一些常量</span></span><br><span class="line">    <span class="keyword">var</span> x_PI = <span class="number">3.14159265358979324</span> * <span class="number">3000.0</span> / <span class="number">180.0</span>;</span><br><span class="line">    <span class="keyword">var</span> PI = <span class="number">3.1415926535897932384626</span>;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">6378245.0</span>;</span><br><span class="line">    <span class="keyword">var</span> ee = <span class="number">0.00669342162296594323</span>;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     　　* 百度坐标系 (BD-09) 与 火星坐标系 (GCJ-02)的转换</span></span><br><span class="line"><span class="comment">     　　* 即 百度 转 谷歌、高德</span></span><br><span class="line"><span class="comment">     　　* <span class="doctag">@param <span class="variable">bd_lon</span></span></span></span><br><span class="line"><span class="comment">     　　* <span class="doctag">@param <span class="variable">bd_lat</span></span></span></span><br><span class="line"><span class="comment">     　　* <span class="doctag">@returns <span class="type">&#123;*[]&#125;</span></span></span></span><br><span class="line"><span class="comment">     　　*/</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">bd09togcj02</span>(<span class="params">bd_lon, bd_lat</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> x_pi = <span class="number">3.14159265358979324</span> * <span class="number">3000.0</span> / <span class="number">180.0</span>;</span><br><span class="line">        <span class="keyword">var</span> x = bd_lon - <span class="number">0.0065</span>;</span><br><span class="line">        <span class="keyword">var</span> y = bd_lat - <span class="number">0.006</span>;</span><br><span class="line">        <span class="keyword">var</span> z = <span class="built_in">Math</span>.sqrt(x * x + y * y) - <span class="number">0.00002</span> * <span class="built_in">Math</span>.sin(y * x_pi);</span><br><span class="line">        <span class="keyword">var</span> theta = <span class="built_in">Math</span>.atan2(y, x) - <span class="number">0.000003</span> * <span class="built_in">Math</span>.cos(x * x_pi);</span><br><span class="line">        <span class="keyword">var</span> gg_lng = z * <span class="built_in">Math</span>.cos(theta);</span><br><span class="line">        <span class="keyword">var</span> gg_lat = z * <span class="built_in">Math</span>.sin(theta);</span><br><span class="line">        <span class="keyword">return</span> [gg_lng, gg_lat]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 火星坐标系 (GCJ-02) 与百度坐标系 (BD-09) 的转换</span></span><br><span class="line"><span class="comment">     * 即谷歌、高德 转 百度</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param <span class="variable">lng</span></span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param <span class="variable">lat</span></span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@returns <span class="type">&#123;*[]&#125;</span></span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">gcj02tobd09</span>(<span class="params">lng, lat</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> z = <span class="built_in">Math</span>.sqrt(lng * lng + lat * lat) + <span class="number">0.00002</span> * <span class="built_in">Math</span>.sin(lat * x_PI);</span><br><span class="line">        <span class="keyword">var</span> theta = <span class="built_in">Math</span>.atan2(lat, lng) + <span class="number">0.000003</span> * <span class="built_in">Math</span>.cos(lng * x_PI);</span><br><span class="line">        <span class="keyword">var</span> bd_lng = z * <span class="built_in">Math</span>.cos(theta) + <span class="number">0.0065</span>;</span><br><span class="line">        <span class="keyword">var</span> bd_lat = z * <span class="built_in">Math</span>.sin(theta) + <span class="number">0.006</span>;</span><br><span class="line">        <span class="keyword">return</span> [bd_lng, bd_lat]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * WGS84转GCj02</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param <span class="variable">lng</span></span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param <span class="variable">lat</span></span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@returns <span class="type">&#123;*[]&#125;</span></span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">wgs84togcj02</span>(<span class="params">lng, lat</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (out_of_china(lng, lat)) &#123;</span><br><span class="line">            <span class="keyword">return</span> [lng, lat]</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">var</span> dlat = transformlat(lng - <span class="number">105.0</span>, lat - <span class="number">35.0</span>);</span><br><span class="line">            <span class="keyword">var</span> dlng = transformlng(lng - <span class="number">105.0</span>, lat - <span class="number">35.0</span>);</span><br><span class="line">            <span class="keyword">var</span> radlat = lat / <span class="number">180.0</span> * PI;</span><br><span class="line">            <span class="keyword">var</span> magic = <span class="built_in">Math</span>.sin(radlat);</span><br><span class="line">            magic = <span class="number">1</span> - ee * magic * magic;</span><br><span class="line">            <span class="keyword">var</span> sqrtmagic = <span class="built_in">Math</span>.sqrt(magic);</span><br><span class="line">            dlat = (dlat * <span class="number">180.0</span>) / ((a * (<span class="number">1</span> - ee)) / (magic * sqrtmagic) * PI);</span><br><span class="line">            dlng = (dlng * <span class="number">180.0</span>) / (a / sqrtmagic * <span class="built_in">Math</span>.cos(radlat) * PI);</span><br><span class="line">            <span class="keyword">var</span> mglat = lat + dlat;</span><br><span class="line">            <span class="keyword">var</span> mglng = lng + dlng;</span><br><span class="line">            <span class="keyword">return</span> [mglng, mglat]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * GCJ02 转换为 WGS84</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param <span class="variable">lng</span></span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param <span class="variable">lat</span></span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@returns <span class="type">&#123;*[]&#125;</span></span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">gcj02towgs84</span>(<span class="params">lng, lat</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (out_of_china(lng, lat)) &#123;</span><br><span class="line">            <span class="keyword">return</span> [lng, lat]</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">var</span> dlat = transformlat(lng - <span class="number">105.0</span>, lat - <span class="number">35.0</span>);</span><br><span class="line">            <span class="keyword">var</span> dlng = transformlng(lng - <span class="number">105.0</span>, lat - <span class="number">35.0</span>);</span><br><span class="line">            <span class="keyword">var</span> radlat = lat / <span class="number">180.0</span> * PI;</span><br><span class="line">            <span class="keyword">var</span> magic = <span class="built_in">Math</span>.sin(radlat);</span><br><span class="line">            magic = <span class="number">1</span> - ee * magic * magic;</span><br><span class="line">            <span class="keyword">var</span> sqrtmagic = <span class="built_in">Math</span>.sqrt(magic);</span><br><span class="line">            dlat = (dlat * <span class="number">180.0</span>) / ((a * (<span class="number">1</span> - ee)) / (magic * sqrtmagic) * PI);</span><br><span class="line">            dlng = (dlng * <span class="number">180.0</span>) / (a / sqrtmagic * <span class="built_in">Math</span>.cos(radlat) * PI);</span><br><span class="line">            mglat = lat + dlat;</span><br><span class="line">            mglng = lng + dlng;</span><br><span class="line">            <span class="keyword">return</span> [lng * <span class="number">2</span> - mglng, lat * <span class="number">2</span> - mglat]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">transformlat</span>(<span class="params">lng, lat</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> ret = -<span class="number">100.0</span> + <span class="number">2.0</span> * lng + <span class="number">3.0</span> * lat + <span class="number">0.2</span> * lat * lat + <span class="number">0.1</span> * lng * lat + <span class="number">0.2</span> * <span class="built_in">Math</span>.sqrt(<span class="built_in">Math</span>.abs(lng));</span><br><span class="line">        ret += (<span class="number">20.0</span> * <span class="built_in">Math</span>.sin(<span class="number">6.0</span> * lng * PI) + <span class="number">20.0</span> * <span class="built_in">Math</span>.sin(<span class="number">2.0</span> * lng * PI)) * <span class="number">2.0</span> / <span class="number">3.0</span>;</span><br><span class="line">        ret += (<span class="number">20.0</span> * <span class="built_in">Math</span>.sin(lat * PI) + <span class="number">40.0</span> * <span class="built_in">Math</span>.sin(lat / <span class="number">3.0</span> * PI)) * <span class="number">2.0</span> / <span class="number">3.0</span>;</span><br><span class="line">        ret += (<span class="number">160.0</span> * <span class="built_in">Math</span>.sin(lat / <span class="number">12.0</span> * PI) + <span class="number">320</span> * <span class="built_in">Math</span>.sin(lat * PI / <span class="number">30.0</span>)) * <span class="number">2.0</span> / <span class="number">3.0</span>;</span><br><span class="line">        <span class="keyword">return</span> ret</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">transformlng</span>(<span class="params">lng, lat</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> ret = <span class="number">300.0</span> + lng + <span class="number">2.0</span> * lat + <span class="number">0.1</span> * lng * lng + <span class="number">0.1</span> * lng * lat + <span class="number">0.1</span> * <span class="built_in">Math</span>.sqrt(<span class="built_in">Math</span>.abs(lng));</span><br><span class="line">        ret += (<span class="number">20.0</span> * <span class="built_in">Math</span>.sin(<span class="number">6.0</span> * lng * PI) + <span class="number">20.0</span> * <span class="built_in">Math</span>.sin(<span class="number">2.0</span> * lng * PI)) * <span class="number">2.0</span> / <span class="number">3.0</span>;</span><br><span class="line">        ret += (<span class="number">20.0</span> * <span class="built_in">Math</span>.sin(lng * PI) + <span class="number">40.0</span> * <span class="built_in">Math</span>.sin(lng / <span class="number">3.0</span> * PI)) * <span class="number">2.0</span> / <span class="number">3.0</span>;</span><br><span class="line">        ret += (<span class="number">150.0</span> * <span class="built_in">Math</span>.sin(lng / <span class="number">12.0</span> * PI) + <span class="number">300.0</span> * <span class="built_in">Math</span>.sin(lng / <span class="number">30.0</span> * PI)) * <span class="number">2.0</span> / <span class="number">3.0</span>;</span><br><span class="line">        <span class="keyword">return</span> ret</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 判断是否在国内，不在国内则不做偏移</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param <span class="variable">lng</span></span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param <span class="variable">lat</span></span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@returns <span class="type">&#123;boolean&#125;</span></span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">out_of_china</span>(<span class="params">lng, lat</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (lng &lt; <span class="number">72.004</span> || lng &gt; <span class="number">137.8347</span>) || ((lat &lt; <span class="number">0.8293</span> || lat &gt; <span class="number">55.8271</span>) || <span class="literal">false</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        wgs84ToGcj:wgs84togcj02,</span><br><span class="line">        wgs84ToBd:<span class="function"><span class="keyword">function</span>(<span class="params">lng,lat</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">var</span> p=wgs84togcj02(lng,lat);</span><br><span class="line">            <span class="keyword">return</span> gcj02tobd09(p[<span class="number">0</span>],p[<span class="number">1</span>]);</span><br><span class="line">        &#125;,</span><br><span class="line">        gcjToBd:gcj02tobd09,</span><br><span class="line">        gcjToWgs84:gcj02towgs84,</span><br><span class="line">        bdToGcj:bd09togcj02,</span><br><span class="line">        bdToWgs84:<span class="function"><span class="keyword">function</span>(<span class="params">lng,lat</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">var</span> p=bd09togcj02(lng,lat);</span><br><span class="line">            <span class="keyword">return</span> gcj02towgs84(p[<span class="number">0</span>],p[<span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 学习笔记 </category>
          
          <category> 计算机 </category>
          
          <category> 编程随笔 </category>
          
          <category> 代码片段 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 工具类 </tag>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>四位共阳数码管显示驱动</title>
      <link href="2020/01/29/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E5%9B%9B%E4%BD%8D%E5%85%B1%E9%98%B3%E6%95%B0%E7%A0%81%E7%AE%A1%E6%98%BE%E7%A4%BA%E9%A9%B1%E5%8A%A8/"/>
      <url>2020/01/29/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E5%9B%9B%E4%BD%8D%E5%85%B1%E9%98%B3%E6%95%B0%E7%A0%81%E7%AE%A1%E6%98%BE%E7%A4%BA%E9%A9%B1%E5%8A%A8/</url>
      
        <content type="html"><![CDATA[<p>四位共阳数码管显示驱动，使用 python3 编写。</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># tm1637 class</span></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> RPi.GPIO <span class="keyword">as</span> GPIO</span><br><span class="line"></span><br><span class="line"><span class="comment"># 0, 1, 2, 3, 4, 5, 6, 7, 8 ,9</span></span><br><span class="line"><span class="comment">#HexDigits = [0x3f,0x06,0x5b,0x4f,0x66,0x6d,0x7d,0x07,0x7f,0x6f,0x77,0x7c,0x39,0x5e,0x79,0x71];</span></span><br><span class="line">HexDigits = [<span class="number">0x3f</span>,<span class="number">0x06</span>,<span class="number">0x5b</span>,<span class="number">0x4f</span>,<span class="number">0x66</span>,<span class="number">0x6d</span>,<span class="number">0x7d</span>,<span class="number">0x07</span>,<span class="number">0x7f</span>,<span class="number">0x6f</span>];</span><br><span class="line"></span><br><span class="line">ADDR_AUTO = <span class="number">0x40</span>;</span><br><span class="line">ADDR_FIXED = <span class="number">0x44</span>;</span><br><span class="line">START_ADDR = <span class="number">0xC0</span>;</span><br><span class="line">BRIGHT_DARKEST = <span class="number">0</span>;</span><br><span class="line">BRIGHT_TYPICAL = <span class="number">2</span>;</span><br><span class="line">BRIGHT_HIGHEST = <span class="number">7</span>;</span><br><span class="line">OUTPUT = GPIO.OUT;</span><br><span class="line">INPUT = GPIO.IN;</span><br><span class="line">LOW = GPIO.LOW;</span><br><span class="line">HIGH = GPIO.HIGH;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TM1637</span>:</span></span><br><span class="line">    doublePoint = <span class="literal">False</span>;</span><br><span class="line">    clkPin = <span class="number">0</span>;</span><br><span class="line">    dataPin = <span class="number">0</span>;</span><br><span class="line">    brightnes = BRIGHT_TYPICAL;</span><br><span class="line">    curData = [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, clkPin, dataPin, brightnes = BRIGHT_TYPICAL</span>):</span></span><br><span class="line">        self.clkPin = clkPin;</span><br><span class="line">        self.dataPin = dataPin;</span><br><span class="line">        self.brightnes = brightnes;</span><br><span class="line">        GPIO.setup(self.clkPin, OUTPUT);</span><br><span class="line">        GPIO.setup(self.dataPin, OUTPUT);</span><br><span class="line">    <span class="comment"># end __init__</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">clear</span>(<span class="params">self</span>):</span></span><br><span class="line">        point = self.doublePoint;</span><br><span class="line">        self.doublePoint = <span class="literal">False</span>;</span><br><span class="line">        data = [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>];</span><br><span class="line">        self.showData(data);</span><br><span class="line">        self.doublePoint = point;</span><br><span class="line">    <span class="comment"># end clear</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">showData</span>(<span class="params">self, data</span>):</span></span><br><span class="line">        <span class="comment">#print &#x27;show data&#x27;;</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">4</span>):</span><br><span class="line">            self.curData[i] = data[i];</span><br><span class="line">            <span class="comment">#print &#x27;data[&#x27;, i, &#x27;]&#x27;, data[i];</span></span><br><span class="line">        <span class="comment">#end for</span></span><br><span class="line"></span><br><span class="line">        self.start();</span><br><span class="line">        self.writeByte(ADDR_AUTO);</span><br><span class="line">        self.stop();</span><br><span class="line">        self.start();</span><br><span class="line">        self.writeByte(START_ADDR);</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">4</span>):</span><br><span class="line">            self.writeByte(self.encode(data[i]));</span><br><span class="line">        self.stop()</span><br><span class="line">        self.start();</span><br><span class="line">        self.writeByte(<span class="number">0x88</span> + self.brightnes);</span><br><span class="line">        self.stop();</span><br><span class="line">    <span class="comment"># end showData</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">showDoublePoint</span>(<span class="params">self, on</span>):</span></span><br><span class="line">        <span class="keyword">if</span>(self.doublePoint != on):</span><br><span class="line">            self.doublePoint = on;</span><br><span class="line">            self.showData(self.curData);</span><br><span class="line">        <span class="comment"># end if</span></span><br><span class="line">    <span class="comment">#end showDoublePoint</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">writeByte</span>(<span class="params">self, data</span>):</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">8</span>):</span><br><span class="line">            GPIO.output(self.clkPin, LOW);</span><br><span class="line">            <span class="keyword">if</span>(data &amp; <span class="number">0x01</span>):</span><br><span class="line">                GPIO.output(self.dataPin, HIGH);</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                GPIO.output(self.dataPin, LOW);</span><br><span class="line"></span><br><span class="line">            data = data &gt;&gt; <span class="number">1</span>;</span><br><span class="line">            GPIO.output(self.clkPin, HIGH);</span><br><span class="line">        <span class="comment"># end for</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># wait for ACK</span></span><br><span class="line">        GPIO.output(self.clkPin, LOW);</span><br><span class="line">        GPIO.output(self.dataPin, HIGH); <span class="comment"># set data gpio high, util slave ack,set low</span></span><br><span class="line">        GPIO.output(self.clkPin, HIGH);</span><br><span class="line">        GPIO.setup(self.dataPin, INPUT); <span class="comment"># set data gpio to input for slave</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">#print &#x27;self.dataPint = &#x27;, self.dataPin;</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span>(GPIO.<span class="built_in">input</span>(self.dataPin)):</span><br><span class="line">            time.sleep(<span class="number">0.001</span>);</span><br><span class="line">            <span class="keyword">if</span>(GPIO.<span class="built_in">input</span>(self.dataPin)):</span><br><span class="line">                GPIO.setup(self.dataPin, OUTPUT);</span><br><span class="line">                GPIO.output(self.dataPin, LOW);</span><br><span class="line">                GPIO.setup(self.dataPin, INPUT);</span><br><span class="line">            <span class="comment"># end if</span></span><br><span class="line">        <span class="comment"># end while</span></span><br><span class="line">        <span class="comment">#print &#x27;ack is get&#x27;</span></span><br><span class="line">        GPIO.setup(self.dataPin, OUTPUT);</span><br><span class="line"></span><br><span class="line">    <span class="comment"># end writeByte</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">start</span>(<span class="params">self</span>):</span></span><br><span class="line">        GPIO.output(self.clkPin, HIGH);</span><br><span class="line">        GPIO.output(self.dataPin, HIGH);</span><br><span class="line">        GPIO.output(self.dataPin, LOW);</span><br><span class="line">        GPIO.output(self.clkPin, LOW)</span><br><span class="line">    <span class="comment"># end start</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">stop</span>(<span class="params">self</span>):</span></span><br><span class="line">        GPIO.output(self.clkPin, LOW);</span><br><span class="line">        GPIO.output(self.dataPin, LOW);</span><br><span class="line">        GPIO.output(self.clkPin, HIGH);</span><br><span class="line">        GPIO.output(self.dataPin, HIGH);</span><br><span class="line">    <span class="comment"># end stop</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">encode</span>(<span class="params">self, data</span>):</span></span><br><span class="line">        <span class="keyword">if</span>(self.doublePoint):</span><br><span class="line">            pointData = <span class="number">0x80</span>;</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            pointData = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(data == <span class="number">0x7F</span>):</span><br><span class="line">            data = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            data = HexDigits[data] + pointData;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> data;</span><br><span class="line">    <span class="comment"># end encode</span></span><br><span class="line"><span class="comment"># end class TM1637</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># start show cur timer</span></span><br><span class="line"><span class="keyword">import</span> tm1637</span><br><span class="line"><span class="keyword">import</span> RPi.GPIO <span class="keyword">as</span> GPIO</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line">CLK = <span class="number">24</span>;</span><br><span class="line">DATA  = <span class="number">23</span>;</span><br><span class="line">GPIO.setmode(GPIO.BCM)</span><br><span class="line">GPIO.setwarnings(<span class="literal">False</span>);</span><br><span class="line"></span><br><span class="line">HHMMFORMAT = <span class="string">&#x27;%H:%M&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    digital1637 = tm1637.TM1637(CLK, DATA)</span><br><span class="line">    digital1637.showDoublePoint(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    lastTime = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(<span class="literal">True</span>):</span><br><span class="line">        curTime = time.strftime(HHMMFORMAT, time.localtime(time.time()));</span><br><span class="line">        <span class="keyword">if</span>(curTime != lastTime):</span><br><span class="line">            number = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line">            digital1637.showData(number);</span><br><span class="line">        <span class="comment"># end if</span></span><br><span class="line"></span><br><span class="line">        time.sleep(<span class="number">0.05</span>);</span><br><span class="line">    <span class="comment"># end while</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">except</span> KeyboardInterrupt:</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">GPIO.cleanup();</span><br><span class="line"><span class="comment"># end show cur timer</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 学习笔记 </category>
          
          <category> 计算机 </category>
          
          <category> 编程随笔 </category>
          
          <category> 代码片段 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 树莓派 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>字符串转Double</title>
      <link href="2020/01/29/%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BD%ACDouble/"/>
      <url>2020/01/29/%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BD%ACDouble/</url>
      
        <content type="html"><![CDATA[<p>Q：给你一个字符串，比如「123.456」，转换成 Double 类型</p><p>A：easy 啊</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Double d1 = Double.valueOf(<span class="string">&quot;123.456&quot;</span>);</span><br></pre></td></tr></table></figure><p>Q：这样就没意思了，不能用JDK里面的方法</p><p>A：我想想（内心：木有IDE == ，木有手册；此种情况我只知道某鹅厂大神可以徒手撸代码，直接编译不报错）</p><p>A：这样，我讲下我的思路吧，blablabla……</p><p>Q：嗯好，你写吧</p><p>A：……</p><p>好吧，保存一下。</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created with IntelliJ IDEA.</span></span><br><span class="line"><span class="comment"> * Desc: 给定字符串，转换成 Double；</span></span><br><span class="line"><span class="comment"> *       如果是 null 或者空串，直接返回0</span></span><br><span class="line"><span class="comment"> *       如果不是标准的数字格式“asdf”、“.12345”、“1234.”也返回0</span></span><br><span class="line"><span class="comment"> *       char-&gt;int，得到的是ASCII码，并不是真正的数值，</span></span><br><span class="line"><span class="comment"> *       但是鉴于0-9是连续编码的，我们可以这样获得 &#x27;1&#x27;-&#x27;0&#x27;=1</span></span><br><span class="line"><span class="comment"> *       To be continued...</span></span><br><span class="line"><span class="comment"> * User:  Xiaomo Song</span></span><br><span class="line"><span class="comment"> * Date: 2018-12-09</span></span><br><span class="line"><span class="comment"> * Time: 18:25</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">String2Double</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="comment">//        Metho1:</span></span><br><span class="line">        Double d1 = Double.valueOf(<span class="string">&quot;123.233&quot;</span>);</span><br><span class="line">        System.out.println(d1);</span><br><span class="line"><span class="comment">//        Method2:</span></span><br><span class="line">        Double d2 = String2Double.string2Double(<span class="string">&quot;123.456&quot;</span>);</span><br><span class="line">        System.out.println(d2);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Double <span class="title">string2Double</span><span class="params">(String str)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">double</span> result = <span class="number">0.0</span>;</span><br><span class="line">        <span class="keyword">if</span> (str == <span class="keyword">null</span> || str.trim().equals(<span class="string">&quot;&quot;</span>)) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;未输入字符串&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (str.matches(<span class="string">&quot;^\\d+(\\.\\d+)?&quot;</span>)) &#123;</span><br><span class="line">            <span class="keyword">char</span>[] chars = str.toCharArray();</span><br><span class="line">            <span class="keyword">int</span> index = str.indexOf(<span class="string">&#x27;.&#x27;</span>);</span><br><span class="line">            <span class="keyword">if</span> (index == -<span class="number">1</span>) &#123;</span><br><span class="line">                index = chars.length;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i=index-<span class="number">1</span> ;i&gt;=<span class="number">0</span>;i--)&#123;</span><br><span class="line">                result+=Math.pow(<span class="number">10</span>,index-<span class="number">1</span>-i)*char2Int(chars[i]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=index+<span class="number">1</span>;i&lt;chars.length;i++)&#123;</span><br><span class="line">                result+=Math.pow(<span class="number">0.1</span>,i-index)*char2Int(chars[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;字符串中有其他字符&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">char2Int</span><span class="params">(<span class="keyword">char</span> c)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> c - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 学习笔记 </category>
          
          <category> 计算机 </category>
          
          <category> 算法题解 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> 算法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>接口文档示例</title>
      <link href="2020/01/29/%E6%8E%A5%E5%8F%A3%E6%96%87%E6%A1%A3%E7%A4%BA%E4%BE%8B/"/>
      <url>2020/01/29/%E6%8E%A5%E5%8F%A3%E6%96%87%E6%A1%A3%E7%A4%BA%E4%BE%8B/</url>
      
        <content type="html"><![CDATA[<h2 id="文档信息"><a href="#文档信息" class="headerlink" title="文档信息"></a>文档信息</h2><h3 id="版本信息"><a href="#版本信息" class="headerlink" title="版本信息"></a>版本信息</h3><table><thead><tr><th>版本号</th><th>创建时间</th><th>作者</th><th>受控状态</th><th>审核</th><th>校对</th></tr></thead><tbody><tr><td>0.1</td><td>2018.05.04</td><td>小莫</td><td>受控</td><td></td><td></td></tr></tbody></table><h3 id="修改信息"><a href="#修改信息" class="headerlink" title="修改信息"></a>修改信息</h3><table><thead><tr><th>序号</th><th>修改后版本号</th><th>修改日期</th><th>修改人</th><th>修改原因</th><th>修改内容</th></tr></thead><tbody><tr><td>1</td><td>0.5</td><td>2018.05.06</td><td>小莫</td><td>填充数据</td><td>用户-新增接口</td></tr></tbody></table><h2 id="接口信息"><a href="#接口信息" class="headerlink" title="接口信息"></a>接口信息</h2><h3 id="用户设置"><a href="#用户设置" class="headerlink" title="用户设置"></a>用户设置</h3><h4 id="新增"><a href="#新增" class="headerlink" title="新增"></a>新增</h4><ol><li>请求地址：<a href="http://www.baidu.com/">http://www.baidu.com</a></li><li>请求方法：POST</li><li>请求参数示例：</li></ol><figure class="highlight"><table><tr><td class="code"><pre><span class="line">id=6&amp;nameLike=张三</span><br></pre></td></tr></table></figure><ol><li>请求头：</li></ol><figure class="highlight"><table><tr><td class="code"><pre><span class="line">Content-Type: application/json;charset=UTF-8</span><br></pre></td></tr></table></figure><ol><li>请求体示例：</li></ol><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;rearNo&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;feeName&quot;</span>: <span class="string">&quot;报销测试&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;feeCode&quot;</span>: <span class="string">&quot;2&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;unit&quot;</span>: <span class="string">&quot;2&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;amount&quot;</span>: <span class="string">&quot;6&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;price&quot;</span>: <span class="string">&quot;10&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;totalPrice&quot;</span>: <span class="string">&quot;60&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;rearBy&quot;</span>: <span class="string">&quot;莫&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;orgId&quot;</span>: <span class="string">&quot;depart2&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;convoyId&quot;</span>: <span class="string">&quot;CD-SCCD&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;rearDate&quot;</span>: <span class="string">&quot;2018-05-04 00:00:00&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;remark&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>请求参数说明：</li></ol><table><thead><tr><th>参数名</th><th>类型</th><th>必填</th><th>默认值</th><th>说明</th></tr></thead><tbody><tr><td>rearNo</td><td>Integer</td><td>Y</td><td></td><td>编号</td></tr></tbody></table><ol><li>返回结果示例：</li></ol><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;stateCode&quot;</span>: <span class="number">200</span>,</span><br><span class="line">  <span class="attr">&quot;state&quot;</span>: <span class="string">&quot;请求成功&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>返回结果参数说明：</li></ol><table><thead><tr><th>参数名</th><th>类型</th><th>必填</th><th>默认值</th><th>说明</th></tr></thead><tbody><tr><td>rearNo</td><td>Integer</td><td>Y</td><td></td><td>编号</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> 文档记录 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 标准 </tag>
            
            <tag> markdown </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
